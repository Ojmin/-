{"version":3,"sources":["webpack:///./src/assets/sub.png","webpack:///./src/utils/GLTFLoader.js","webpack:///src/components/m-row-btn.vue","webpack:///./src/components/m-row-btn.vue?1aee","webpack:///./src/components/m-row-btn.vue","webpack:///src/components/m-stepper.vue","webpack:///./src/components/m-stepper.vue?0e00","webpack:///./src/components/m-stepper.vue","webpack:///src/components/m-spec-box.vue","webpack:///./src/components/m-spec-box.vue?054a","webpack:///./src/components/m-spec-box.vue","webpack:///src/components/m-instruction.vue","webpack:///./src/components/m-instruction.vue?4f50","webpack:///./src/components/m-instruction.vue","webpack:///src/pages/index.vue","webpack:///./src/pages/index.vue?3f8a","webpack:///./src/pages/index.vue","webpack:///src/App.vue","webpack:///./src/App.vue?d31c","webpack:///./src/App.vue","webpack:///src/pages/shoedetail.vue","webpack:///./src/pages/shoedetail.vue?88c0","webpack:///./src/pages/shoedetail.vue","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/assets/like.png","webpack:///./src/assets/add.png","webpack:///./src/assets/like_grey.png"],"names":["module","exports","BINARY_EXTENSION_HEADER_MAGIC","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","JSON","BIN","EXTENSIONS","KHR_BINARY_GLTF","KHR_DRACO_MESH_COMPRESSION","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","KHR_MATERIALS_UNLIT","KHR_TEXTURE_TRANSFORM","MSFT_TEXTURE_DDS","WEBGL_CONSTANTS","WEBGL_COMPONENT_TYPES","5120","Int8Array","5121","Uint8Array","5122","Int16Array","5123","Uint16Array","5125","Uint32Array","5126","Float32Array","WEBGL_FILTERS","9728","THREE","9729","9984","9985","9986","9987","WEBGL_WRAPPINGS","33071","33648","10497","WEBGL_TYPE_SIZES","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","ATTRIBUTES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","scale","translation","rotation","weights","INTERPOLATION","CUBICSPLINE","undefined","LINEAR","STEP","ALPHA_MODES","MIME_TYPE_FORMATS","image/png","image/jpeg","CLTFLoader","manager","classCallCheck_default","this","crossOrigin","dracoLoader","ddsLoader","value","path","resourcePath","url","onLoad","onProgress","onError","scope","extractUrlBase","itemStart","_onError","e","console","error","itemError","itemEnd","loader","setPath","setResponseType","setWithCredentials","load","data","parse","gltf","content","extensions","decodeText","name","body","headerView","DataView","header","magic","slice","version","getUint32","length","Error","chunkView","chunkIndex","byteLength","chunkLength","chunkType","contentArray","byteOffset","json","asset","extensionsUsed","i","extensionName","extensionsRequired","GLTFLightsExtension","GLTFMaterialsUnlitExtension","GLTFMaterialsPbrSpecularGlossinessExtension","GLTFDracoMeshCompressionExtension","GLTFTextureDDSExtension","GLTFTextureTransformExtension","indexOf","warn","GLTFParser","extension","lightDefs","lights","specularGlossinessParams","getMaterialType","extendParams","materialParams","materialDef","parser","pbrSpecularGlossiness","shader","uniforms","clone","specularMapParsFragmentChunk","join","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","fragmentShader","replace","roughness","metalness","roughnessMap","metalnessMap","specular","setHex","glossiness","specularMap","glossinessMap","vertexShader","defines","STANDARD","color","opacity","pending","Array","isArray","diffuseFactor","array","fromArray","diffuseTexture","push","assignTexture","emissive","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","promise_default","a","all","createMaterial","params","material","fog","transparent","isGLTFSpecularGlossinessMaterial","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalScale","displacementMap","displacementScale","displacementBias","alphaMap","envMap","envMapIntensity","refractionRatio","derivatives","cloneMaterial","source","target","il","isColor","refreshUniforms","renderer","scene","camera","geometry","uvScaleMap","diffuse","copy","multiplyScalar","isWebGLRenderTarget","texture","matrixAutoUpdate","updateMatrix","uvTransform","matrix","flipEnvMap","isCubeTexture","reflectivity","maxMipLevel","properties","get","__maxMipLevel","USE_GLOSSINESSMAP","USE_ROUGHNESSMAP","options","cache","objects","key","add","object","remove","removeAll","primitiveCache","textureLoader","setCrossOrigin","fileLoader","assignExtrasToUserData","gltfDef","extras","typeof_default","assign_default","userData","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","resolveURL","test","addPrimitiveAttributes","primitiveDef","attributes","assignAttributeAccessor","accessorIndex","attributeName","getDependency","then","accessor","addAttribute","gltfAttributeName","threeAttributeName","toLowerCase","indices","index","setIndex","targets","hasMorphPosition","hasMorphNormal","resolve","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","position","normal","accessors","morphPositions","morphNormals","cloneBufferAttribute","positionAttribute","j","jl","count","setXYZ","getX","getY","getZ","normalAttribute","morphAttributes","addMorphTargets","createPrimitiveKey","dracoExtension","geometryKey","bufferView","createAttributesKey","mode","attributesKey","keys","keys_default","sort","prototype","loadLight","lightIndex","lightNode","lightDef","range","type","set","distance","spot","innerConeAngle","outerConeAngle","Math","PI","angle","penumbra","decay","intensity","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","decodePrimitive","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","accessorDef","componentType","normalized","decodeDracoFile","attribute","extendTexture","transform","offset","repeat","texCoord","needsUpdate","markDefs","getDependencies","dependencies","result","scenes","animations","cameras","catch","nodeDefs","nodes","skinDefs","skins","meshDefs","meshes","meshReferences","meshUses","skinIndex","skinLength","joints","isBone","nodeIndex","nodeLength","nodeDef","mesh","skin","isSkinnedMesh","cacheKey","dependency","loadScene","loadNode","loadMesh","loadAccessor","loadBufferView","loadBuffer","loadMaterial","loadTexture","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","buffers","uri","reject","bufferViewDef","bufferViews","buffer","sparse","pendingBufferViews","values","bufferAttribute","itemSize","TypedArray","elementBytes","BYTES_PER_ELEMENT","itemBytes","byteStride","ibSlice","floor","ibCacheKey","ib","itemSizeIndices","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","setArray","setX","setY","setZ","setW","textureIndex","URL","window","webkitURL","textureDef","textures","textureExtensions","sourceURI","images","isObjectURL","blob","Blob","mimeType","createObjectURL","Handlers","revokeObjectURL","flipY","format","sampler","samplers","magFilter","minFilter","wrapS","wrapT","mapName","mapDef","isCompressedTexture","assignFinalMaterial","useVertexTangents","tangent","useVertexColors","useFlatShading","useSkinning","useMorphTargets","useMorphNormals","isPoints","uuid","pointsMaterial","call","isLine","lineMaterial","cachedMaterial","skinning","vertexTangents","vertexColors","flatShading","morphTargets","uv2","uv","log","onBeforeRender","materialIndex","MaterialType","materials","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","doubleSided","side","alphaMode","alphaTest","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","encoding","loadGeometries","primitives","createDracoPrimitive","geometryPromise","cached","promise","meshIndex","meshDef","createDefaultMaterial","originalMaterials","geometries","skinWeight","normalizeSkinWeights","drawMode","updateMorphTargets","group","cameraIndex","cameraDef","radToDeg","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","channel","node","id","input","parameters","output","inputAccessors","outputAccessors","tracks","inputAccessor","outputAccessor","TypedKeyframeTrack","targetName","interpolation","targetNames","traverse","isMesh","morphTargetInfluences","outputArray","constructor","scaled","track","createInterpolant","GLTFCubicSplineInterpolant","times","getValueSize","isInterpolantFactoryMethodGLTFCubicSpline","instanceNum","children","o","light","sanitizeNodeName","applyMatrix","quaternion","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","bones","boneInverses","jointNode","mat","bind","matrixWorld","child","_ref","asyncToGenerator_default","regenerator_default","mark","_callee","sceneIndex","sceneDef","nodeIds","wrap","_context","prev","next","abrupt","stop","_x","apply","arguments","defaultMaterial","depthTest","morphTargetDictionary","parameterPositions","sampleValues","sampleSize","resultBuffer","isInterleavedBufferAttribute","getW","create_default","copySampleValue_","valueSize","beforeStart_","afterEnd_","interpolate_","i1","t0","t","t1","stride","stride2","stride3","td","p","pp","ppp","offset1","offset0","s2","s3","s0","s1","p0","m0","p1","m1","m_row_btn","props","zIndex","Number","default","String","methods","onClick","$emit","components_m_row_btn","render","_h","$createElement","_c","_self","staticClass","style","on","click","_t","staticRenderFns","src_components_m_row_btn","__webpack_require__","normalizeComponent","ssrContext","m_stepper","min","max","step","watch","newVal","oldVal","updateValue","val","onSub","onAdd","onChange","isNaN","components_m_stepper","_vm","_v","attrs","domProps","change","m_spec_box","components","mRowBtn","mStepper","m_stepper_normalizeComponent","show","Boolean","goods","Object","curIndex","computed","pic","default_image_url","curSpec","specList","size","stock","size_stock","item","obj","onClose","onSpecSelect","onCountChange","onConfirm","price","totalAmount","goodsNumber","total_amount","goodsName","goodsPic","components_m_spec_box","class","hidden","src","_s","_l","selected","$event","z-index","tap","src_components_m_spec_box","m_spec_box_normalizeComponent","m_instruction","title","icon","transContent","isShow","onChangeShow","components_m_instruction","directives","rawName","expression","_e","innerHTML","src_components_m_instruction","m_instruction_normalizeComponent","pages","mInstruction","mSpecBox","goodsList","goodsImgList","details","isShowSpec","note","extends_default","vuex_esm","created","_this","$route","query","_loadGoods","axios_default","res","status","mounted","_initCanvas","_this2","canvas","$refs","three_module","background","GLTFLoader","pa","gltfObj","parent","setGltfObj","xhr","loaded","total","lookAt","alpha","gammaInput","gammaOutput","setClearAlpha","requestAnimationFrame","y","_this3","onCanvasClick","$router","onShowSpec","onHideSpec","d","str","encodeURIComponent","stringify_default","weixin_js_sdk_default","miniProgram","navigateTo","goodsTap","selectortype_template_index_0_src_pages","ref","width","height","subTitle","isLike","brandStory","img","close","confirm","src_pages","pages_normalizeComponent","App","Index","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","shoedetail","innerWidth","innerHeight","ambient","controls","setSize","OrbitControls","domElement","enablePan","enableZoom","autoRotate","minDistance","maxDistance","addEventListener","pages_shoedetail","src_pages_shoedetail","shoedetail_normalizeComponent","Vue","use","Router","router","routes","redirect","component","Shoedetail","Vuex","store","Store","state","mutations","$store","config","productionTip","h","$mount"],"mappings":"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","file":"static/js/app.12fe2eaadbe484e50c96.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEIAAABCCAYAAADjVADoAAAAAXNSR0IArs4c6QAAAPZJREFUeAHt2jsKwkAARdGJWEla0X1YiesXK/cRsQ22fnCaV2ZCEOSkGzARrievsnu+r+IqKw2+BYSoEoQQIkeBCCKIyAJEZA8bQQQRWYCI7GEjiCAiCxCRPWwEEURkASKyh40ggogsQET2sBFEEJEFiMgeNoKIFLHO47TTcLuXcXxMu2mhT/f9pux32+anN4f4RDhfrs1fvMSNp+OhOYaNqL9IN+cfM//0aswKsQTvXz3Tq1HLCyFEvoREEEFEFiAie9gIIojIAkRkDxtBBBFZgIjsYSOIICILEJE9bAQRRGQBIrKHjSCCiCxARPawEUQQkQXq6QVSzx561q+4KQAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/sub.png\n// module id = Brp0\n// module chunks = 1","/* eslint-disable no-tabs */\r\n/**\r\n * @author Rich Tibbett / https://github.com/richtr\r\n * @author mrdoob / http://mrdoob.com/\r\n * @author Tony Parisi / http://www.tonyparisi.com/\r\n * @author Takahiro / https://github.com/takahirox\r\n * @author Don McCurdy / https://www.donmccurdy.com\r\n */\r\nimport * as THREE from 'three';\r\n/* BINARY EXTENSION */\r\nconst BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\r\nconst BINARY_EXTENSION_HEADER_LENGTH = 12;\r\nconst BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\r\nconst EXTENSIONS = {\r\n  KHR_BINARY_GLTF: 'KHR_binary_glTF',\r\n  KHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\r\n  KHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\r\n  KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\r\n  KHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\r\n  KHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\r\n  MSFT_TEXTURE_DDS: 'MSFT_texture_dds'\r\n};\r\n/*********************************/\r\n/** ******** INTERNALS ************/\r\n/*********************************/\r\n/* CONSTANTS */\r\nconst WEBGL_CONSTANTS = {\r\n  FLOAT: 5126,\r\n  // FLOAT_MAT2: 35674,\r\n  FLOAT_MAT3: 35675,\r\n  FLOAT_MAT4: 35676,\r\n  FLOAT_VEC2: 35664,\r\n  FLOAT_VEC3: 35665,\r\n  FLOAT_VEC4: 35666,\r\n  LINEAR: 9729,\r\n  REPEAT: 10497,\r\n  SAMPLER_2D: 35678,\r\n  POINTS: 0,\r\n  LINES: 1,\r\n  LINE_LOOP: 2,\r\n  LINE_STRIP: 3,\r\n  TRIANGLES: 4,\r\n  TRIANGLE_STRIP: 5,\r\n  TRIANGLE_FAN: 6,\r\n  UNSIGNED_BYTE: 5121,\r\n  UNSIGNED_SHORT: 5123\r\n};\r\nconst WEBGL_COMPONENT_TYPES = {\r\n  5120: Int8Array,\r\n  5121: Uint8Array,\r\n  5122: Int16Array,\r\n  5123: Uint16Array,\r\n  5125: Uint32Array,\r\n  5126: Float32Array\r\n};\r\nconst WEBGL_FILTERS = {\r\n  9728: THREE.NearestFilter,\r\n  9729: THREE.LinearFilter,\r\n  9984: THREE.NearestMipmapNearestFilter,\r\n  9985: THREE.LinearMipmapNearestFilter,\r\n  9986: THREE.NearestMipmapLinearFilter,\r\n  9987: THREE.LinearMipmapLinearFilter\r\n};\r\nconst WEBGL_WRAPPINGS = {\r\n  33071: THREE.ClampToEdgeWrapping,\r\n  33648: THREE.MirroredRepeatWrapping,\r\n  10497: THREE.RepeatWrapping\r\n};\r\nconst WEBGL_TYPE_SIZES = {\r\n  'SCALAR': 1,\r\n  'VEC2': 2,\r\n  'VEC3': 3,\r\n  'VEC4': 4,\r\n  'MAT2': 4,\r\n  'MAT3': 9,\r\n  'MAT4': 16\r\n};\r\nconst ATTRIBUTES = {\r\n  POSITION: 'position',\r\n  NORMAL: 'normal',\r\n  TANGENT: 'tangent',\r\n  TEXCOORD_0: 'uv',\r\n  TEXCOORD_1: 'uv2',\r\n  COLOR_0: 'color',\r\n  WEIGHTS_0: 'skinWeight',\r\n  JOINTS_0: 'skinIndex'\r\n};\r\nconst PATH_PROPERTIES = {\r\n  scale: 'scale',\r\n  translation: 'position',\r\n  rotation: 'quaternion',\r\n  weights: 'morphTargetInfluences'\r\n};\r\nconst INTERPOLATION = {\r\n  CUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\r\n  // keyframe track will be initialized with a default interpolation type, then modified.\r\n  LINEAR: THREE.InterpolateLinear,\r\n  STEP: THREE.InterpolateDiscrete\r\n};\r\nconst ALPHA_MODES = {\r\n  OPAQUE: 'OPAQUE',\r\n  MASK: 'MASK',\r\n  BLEND: 'BLEND'\r\n};\r\nconst MIME_TYPE_FORMATS = {\r\n  'image/png': THREE.RGBAFormat,\r\n  'image/jpeg': THREE.RGBFormat\r\n};\r\nexport default class CLTFLoader {\r\n  constructor(manager) {\r\n    this.manager = (manager !== undefined) ? manager : THREE.DefaultLoadingManager;\r\n    this.dracoLoader = null;\r\n    this.ddsLoader = null;\r\n  }\r\n  crossOrigin = 'anonymous';\r\n  setCrossOrigin(value) {\r\n    this.crossOrigin = value;\r\n    return this;\r\n  }\r\n  setPath(value) {\r\n    this.path = value;\r\n    return this;\r\n  }\r\n  setResourcePath(value) {\r\n    this.resourcePath = value;\r\n    return this;\r\n  }\r\n  setDRACOLoader(value) {\r\n    this.dracoLoader = value;\r\n    return this;\r\n  }\r\n  setDDSLoader(value) {\r\n    this.ddsLoader = value;\r\n    return this;\r\n  }\r\n  load(url, onLoad, onProgress, onError) {\r\n    var scope = this;\r\n    var resourcePath;\r\n    if (this.resourcePath !== undefined) {\r\n      resourcePath = this.resourcePath;\r\n    } else if (this.path !== undefined) {\r\n      resourcePath = this.path;\r\n    } else {\r\n      resourcePath = THREE.LoaderUtils.extractUrlBase(url);\r\n    }\r\n    // Tells the LoadingManager to track an extra item, which resolves after\r\n    // the model is fully loaded. This means the count of items loaded will\r\n    // be incorrect, but ensures manager.onLoad() does not fire early.\r\n    scope.manager.itemStart(url);\r\n    var _onError = function(e) {\r\n      if (onError) {\r\n        onError(e);\r\n      } else {\r\n        console.error(e);\r\n      }\r\n      scope.manager.itemError(url);\r\n      scope.manager.itemEnd(url);\r\n    };\r\n    var loader = new THREE.FileLoader(scope.manager);\r\n    loader.setPath(this.path);\r\n    loader.setResponseType('arraybuffer');\r\n    if (scope.crossOrigin === 'use-credentials') {\r\n      loader.setWithCredentials(true);\r\n    }\r\n    loader.load(url, function(data) {\r\n      try {\r\n        scope.parse(data, resourcePath, function(gltf) {\r\n          onLoad(gltf);\r\n          scope.manager.itemEnd(url);\r\n        }, _onError);\r\n      } catch (e) {\r\n        _onError(e);\r\n      }\r\n    }, onProgress, _onError);\r\n  }\r\n  parse(data, path, onLoad, onError) {\r\n    var content;\r\n    var extensions = {};\r\n    if (typeof data === 'string') {\r\n      content = data;\r\n    } else {\r\n      var magic = THREE.LoaderUtils.decodeText(new Uint8Array(data, 0, 4));\r\n      if (magic === BINARY_EXTENSION_HEADER_MAGIC) {\r\n        try {\r\n          extensions[EXTENSIONS.KHR_BINARY_GLTF] = new GLTFBinaryExtension(data);\r\n        } catch (error) {\r\n          if (onError) onError(error);\r\n          return;\r\n        }\r\n        content = extensions[EXTENSIONS.KHR_BINARY_GLTF].content;\r\n      } else {\r\n        content = THREE.LoaderUtils.decodeText(new Uint8Array(data));\r\n      }\r\n    }\r\n    var json = JSON.parse(content);\r\n    if (json.asset === undefined || json.asset.version[0] < 2) {\r\n      if (onError) onError(new Error('THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead.'));\r\n      return;\r\n    }\r\n    if (json.extensionsUsed) {\r\n      for (var i = 0; i < json.extensionsUsed.length; ++i) {\r\n        var extensionName = json.extensionsUsed[i];\r\n        var extensionsRequired = json.extensionsRequired || [];\r\n        switch (extensionName) {\r\n          case EXTENSIONS.KHR_LIGHTS_PUNCTUAL:\r\n            extensions[extensionName] = new GLTFLightsExtension(json);\r\n            break;\r\n          case EXTENSIONS.KHR_MATERIALS_UNLIT:\r\n            extensions[extensionName] = new GLTFMaterialsUnlitExtension();\r\n            break;\r\n          case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\r\n            extensions[extensionName] = new GLTFMaterialsPbrSpecularGlossinessExtension();\r\n            break;\r\n          case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\r\n            extensions[extensionName] = new GLTFDracoMeshCompressionExtension(json, this.dracoLoader);\r\n            break;\r\n          case EXTENSIONS.MSFT_TEXTURE_DDS:\r\n            extensions[EXTENSIONS.MSFT_TEXTURE_DDS] = new GLTFTextureDDSExtension(this.ddsLoader);\r\n            break;\r\n          case EXTENSIONS.KHR_TEXTURE_TRANSFORM:\r\n            extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] = new GLTFTextureTransformExtension();\r\n            break;\r\n          default:\r\n            if (extensionsRequired.indexOf(extensionName) >= 0) {\r\n              console.warn('THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".');\r\n            }\r\n        }\r\n      }\r\n    }\r\n    var parser = new GLTFParser(json, extensions, {\r\n      path: path || this.resourcePath || '',\r\n      crossOrigin: this.crossOrigin,\r\n      manager: this.manager\r\n    });\r\n    parser.parse(onLoad, onError);\r\n  }\r\n}\r\nfunction GLTFBinaryExtension(data) {\r\n  this.name = EXTENSIONS.KHR_BINARY_GLTF;\r\n  this.content = null;\r\n  this.body = null;\r\n  var headerView = new DataView(data, 0, BINARY_EXTENSION_HEADER_LENGTH);\r\n  this.header = {\r\n    magic: THREE.LoaderUtils.decodeText(new Uint8Array(data.slice(0, 4))),\r\n    version: headerView.getUint32(4, true),\r\n    length: headerView.getUint32(8, true)\r\n  };\r\n  if (this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC) {\r\n    throw new Error('THREE.GLTFLoader: Unsupported glTF-Binary header.');\r\n  } else if (this.header.version < 2.0) {\r\n    throw new Error('THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.');\r\n  }\r\n  var chunkView = new DataView(data, BINARY_EXTENSION_HEADER_LENGTH);\r\n  var chunkIndex = 0;\r\n  while (chunkIndex < chunkView.byteLength) {\r\n    var chunkLength = chunkView.getUint32(chunkIndex, true);\r\n    chunkIndex += 4;\r\n    var chunkType = chunkView.getUint32(chunkIndex, true);\r\n    chunkIndex += 4;\r\n    if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON) {\r\n      var contentArray = new Uint8Array(data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength);\r\n      this.content = THREE.LoaderUtils.decodeText(contentArray);\r\n    } else if (chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN) {\r\n      var byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\r\n      this.body = data.slice(byteOffset, byteOffset + chunkLength);\r\n    }\r\n    // Clients must ignore chunks with unknown types.\r\n    chunkIndex += chunkLength;\r\n  }\r\n  if (this.content === null) {\r\n    throw new Error('THREE.GLTFLoader: JSON content not found.');\r\n  }\r\n}\r\nfunction GLTFLightsExtension(json) {\r\n  this.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\r\n  var extension = (json.extensions && json.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL]) || {};\r\n  this.lightDefs = extension.lights || [];\r\n}\r\nGLTFLightsExtension.prototype.loadLight = function(lightIndex) {\r\n  var lightDef = this.lightDefs[lightIndex];\r\n  var lightNode;\r\n  var color = new THREE.Color(0xffffff);\r\n  if (lightDef.color !== undefined) color.fromArray(lightDef.color);\r\n  var range = lightDef.range !== undefined ? lightDef.range : 0;\r\n  switch (lightDef.type) {\r\n    case 'directional':\r\n      lightNode = new THREE.DirectionalLight(color);\r\n      lightNode.target.position.set(0, 0, -1);\r\n      lightNode.add(lightNode.target);\r\n      break;\r\n    case 'point':\r\n      lightNode = new THREE.PointLight(color);\r\n      lightNode.distance = range;\r\n      break;\r\n    case 'spot':\r\n      lightNode = new THREE.SpotLight(color);\r\n      lightNode.distance = range;\r\n      // Handle spotlight properties.\r\n      lightDef.spot = lightDef.spot || {};\r\n      lightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\r\n      lightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\r\n      lightNode.angle = lightDef.spot.outerConeAngle;\r\n      lightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\r\n      lightNode.target.position.set(0, 0, -1);\r\n      lightNode.add(lightNode.target);\r\n      break;\r\n    default:\r\n      throw new Error('THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".');\r\n  }\r\n  // Some lights (e.g. spot) default to a position other than the origin. Reset the position\r\n  // here, because node-level parsing will only override position if explicitly specified.\r\n  lightNode.position.set(0, 0, 0);\r\n  lightNode.decay = 2;\r\n  if (lightDef.intensity !== undefined) lightNode.intensity = lightDef.intensity;\r\n  lightNode.name = lightDef.name || ('light_' + lightIndex);\r\n  return Promise.resolve(lightNode);\r\n};\r\nfunction GLTFMaterialsUnlitExtension() {\r\n  this.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\r\n}\r\nGLTFMaterialsUnlitExtension.prototype.getMaterialType = function() {\r\n  return THREE.MeshBasicMaterial;\r\n};\r\nGLTFMaterialsUnlitExtension.prototype.extendParams = function(materialParams, materialDef, parser) {\r\n  var pending = [];\r\n  materialParams.color = new THREE.Color(1.0, 1.0, 1.0);\r\n  materialParams.opacity = 1.0;\r\n  var metallicRoughness = materialDef.pbrMetallicRoughness;\r\n  if (metallicRoughness) {\r\n    if (Array.isArray(metallicRoughness.baseColorFactor)) {\r\n      var array = metallicRoughness.baseColorFactor;\r\n      materialParams.color.fromArray(array);\r\n      materialParams.opacity = array[3];\r\n    }\r\n    if (metallicRoughness.baseColorTexture !== undefined) {\r\n      pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\r\n    }\r\n  }\r\n  return Promise.all(pending);\r\n};\r\nfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\r\n  return {\r\n    name: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\r\n    specularGlossinessParams: [\r\n      'color',\r\n      'map',\r\n      'lightMap',\r\n      'lightMapIntensity',\r\n      'aoMap',\r\n      'aoMapIntensity',\r\n      'emissive',\r\n      'emissiveIntensity',\r\n      'emissiveMap',\r\n      'bumpMap',\r\n      'bumpScale',\r\n      'normalMap',\r\n      'displacementMap',\r\n      'displacementScale',\r\n      'displacementBias',\r\n      'specularMap',\r\n      'specular',\r\n      'glossinessMap',\r\n      'glossiness',\r\n      'alphaMap',\r\n      'envMap',\r\n      'envMapIntensity',\r\n      'refractionRatio'\r\n    ],\r\n    getMaterialType: function() {\r\n      return THREE.ShaderMaterial;\r\n    },\r\n    extendParams: function(materialParams, materialDef, parser) {\r\n      var pbrSpecularGlossiness = materialDef.extensions[this.name];\r\n      var shader = THREE.ShaderLib['standard'];\r\n      var uniforms = THREE.UniformsUtils.clone(shader.uniforms);\r\n      var specularMapParsFragmentChunk = [\r\n        '#ifdef USE_SPECULARMAP',\r\n        '\tuniform sampler2D specularMap;',\r\n        '#endif'\r\n      ].join('\\n');\r\n      var glossinessMapParsFragmentChunk = [\r\n        '#ifdef USE_GLOSSINESSMAP',\r\n        '\tuniform sampler2D glossinessMap;',\r\n        '#endif'\r\n      ].join('\\n');\r\n      var specularMapFragmentChunk = [\r\n        'vec3 specularFactor = specular;',\r\n        '#ifdef USE_SPECULARMAP',\r\n        '\tvec4 texelSpecular = texture2D( specularMap, vUv );',\r\n        '\ttexelSpecular = sRGBToLinear( texelSpecular );',\r\n        '\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\r\n        '\tspecularFactor *= texelSpecular.rgb;',\r\n        '#endif'\r\n      ].join('\\n');\r\n      var glossinessMapFragmentChunk = [\r\n        'float glossinessFactor = glossiness;',\r\n        '#ifdef USE_GLOSSINESSMAP',\r\n        '\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\r\n        '\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\r\n        '\tglossinessFactor *= texelGlossiness.a;',\r\n        '#endif'\r\n      ].join('\\n');\r\n      var lightPhysicalFragmentChunk = [\r\n        'PhysicalMaterial material;',\r\n        'material.diffuseColor = diffuseColor.rgb;',\r\n        'material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );',\r\n        'material.specularColor = specularFactor.rgb;'\r\n      ].join('\\n');\r\n      var fragmentShader = shader.fragmentShader\r\n        .replace('uniform float roughness;', 'uniform vec3 specular;')\r\n        .replace('uniform float metalness;', 'uniform float glossiness;')\r\n        .replace('#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk)\r\n        .replace('#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk)\r\n        .replace('#include <roughnessmap_fragment>', specularMapFragmentChunk)\r\n        .replace('#include <metalnessmap_fragment>', glossinessMapFragmentChunk)\r\n        .replace('#include <lights_physical_fragment>', lightPhysicalFragmentChunk);\r\n      delete uniforms.roughness;\r\n      delete uniforms.metalness;\r\n      delete uniforms.roughnessMap;\r\n      delete uniforms.metalnessMap;\r\n      uniforms.specular = { value: new THREE.Color().setHex(0x111111) };\r\n      uniforms.glossiness = { value: 0.5 };\r\n      uniforms.specularMap = { value: null };\r\n      uniforms.glossinessMap = { value: null };\r\n      materialParams.vertexShader = shader.vertexShader;\r\n      materialParams.fragmentShader = fragmentShader;\r\n      materialParams.uniforms = uniforms;\r\n      materialParams.defines = { 'STANDARD': '' };\r\n      materialParams.color = new THREE.Color(1.0, 1.0, 1.0);\r\n      materialParams.opacity = 1.0;\r\n      var pending = [];\r\n      if (Array.isArray(pbrSpecularGlossiness.diffuseFactor)) {\r\n        var array = pbrSpecularGlossiness.diffuseFactor;\r\n        materialParams.color.fromArray(array);\r\n        materialParams.opacity = array[3];\r\n      }\r\n      if (pbrSpecularGlossiness.diffuseTexture !== undefined) {\r\n        pending.push(parser.assignTexture(materialParams, 'map', pbrSpecularGlossiness.diffuseTexture));\r\n      }\r\n      materialParams.emissive = new THREE.Color(0.0, 0.0, 0.0);\r\n      materialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\r\n      materialParams.specular = new THREE.Color(1.0, 1.0, 1.0);\r\n      if (Array.isArray(pbrSpecularGlossiness.specularFactor)) {\r\n        materialParams.specular.fromArray(pbrSpecularGlossiness.specularFactor);\r\n      }\r\n      if (pbrSpecularGlossiness.specularGlossinessTexture !== undefined) {\r\n        var specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\r\n        pending.push(parser.assignTexture(materialParams, 'glossinessMap', specGlossMapDef));\r\n        pending.push(parser.assignTexture(materialParams, 'specularMap', specGlossMapDef));\r\n      }\r\n      return Promise.all(pending);\r\n    },\r\n    createMaterial: function(params) {\r\n      // setup material properties based on MeshStandardMaterial for Specular-Glossiness\r\n      var material = new THREE.ShaderMaterial({\r\n        defines: params.defines,\r\n        vertexShader: params.vertexShader,\r\n        fragmentShader: params.fragmentShader,\r\n        uniforms: params.uniforms,\r\n        fog: true,\r\n        lights: true,\r\n        opacity: params.opacity,\r\n        transparent: params.transparent\r\n      });\r\n      material.isGLTFSpecularGlossinessMaterial = true;\r\n      material.color = params.color;\r\n      material.map = params.map === undefined ? null : params.map;\r\n      material.lightMap = null;\r\n      material.lightMapIntensity = 1.0;\r\n      material.aoMap = params.aoMap === undefined ? null : params.aoMap;\r\n      material.aoMapIntensity = 1.0;\r\n      material.emissive = params.emissive;\r\n      material.emissiveIntensity = 1.0;\r\n      material.emissiveMap = params.emissiveMap === undefined ? null : params.emissiveMap;\r\n      material.bumpMap = params.bumpMap === undefined ? null : params.bumpMap;\r\n      material.bumpScale = 1;\r\n      material.normalMap = params.normalMap === undefined ? null : params.normalMap;\r\n      if (params.normalScale) material.normalScale = params.normalScale;\r\n      material.displacementMap = null;\r\n      material.displacementScale = 1;\r\n      material.displacementBias = 0;\r\n      material.specularMap = params.specularMap === undefined ? null : params.specularMap;\r\n      material.specular = params.specular;\r\n      material.glossinessMap = params.glossinessMap === undefined ? null : params.glossinessMap;\r\n      material.glossiness = params.glossiness;\r\n      material.alphaMap = null;\r\n      material.envMap = params.envMap === undefined ? null : params.envMap;\r\n      material.envMapIntensity = 1.0;\r\n      material.refractionRatio = 0.98;\r\n      material.extensions.derivatives = true;\r\n      return material;\r\n    },\r\n    /**\r\n     * Clones a GLTFSpecularGlossinessMaterial instance. The ShaderMaterial.copy() method can\r\n     * eslint-disable-next-line no-tabs\r\n     * copy only properties it knows about or inherits, and misses many properties that would\r\n     * normally be defined by MeshStandardMaterial.\r\n     *\r\n     * This method allows GLTFSpecularGlossinessMaterials to be cloned in the process of\r\n     * loading a glTF model, but cloning later (e.g. by the user) would require these changes\r\n     * AND also updating `.onBeforeRender` on the parent mesh.\r\n     *\r\n     * eslint-disable-next-line no-tabs\r\n     * @param  {THREE.ShaderMaterial} source\r\n     * @return {THREE.ShaderMaterial}\r\n     */\r\n    cloneMaterial: function(source) {\r\n      var target = source.clone();\r\n      target.isGLTFSpecularGlossinessMaterial = true;\r\n      var params = this.specularGlossinessParams;\r\n      for (var i = 0, il = params.length; i < il; i++) {\r\n        var value = source[params[i]];\r\n        target[params[i]] = (value && value.isColor) ? value.clone() : value;\r\n      }\r\n      return target;\r\n    },\r\n    // Here's based on refreshUniformsCommon() and refreshUniformsStandard() in WebGLRenderer.\r\n    refreshUniforms: function(renderer, scene, camera, geometry, material) {\r\n      if (material.isGLTFSpecularGlossinessMaterial !== true) {\r\n        return;\r\n      }\r\n      var uniforms = material.uniforms;\r\n      var defines = material.defines;\r\n      uniforms.opacity.value = material.opacity;\r\n      uniforms.diffuse.value.copy(material.color);\r\n      uniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);\r\n      uniforms.map.value = material.map;\r\n      uniforms.specularMap.value = material.specularMap;\r\n      uniforms.alphaMap.value = material.alphaMap;\r\n      uniforms.lightMap.value = material.lightMap;\r\n      uniforms.lightMapIntensity.value = material.lightMapIntensity;\r\n      uniforms.aoMap.value = material.aoMap;\r\n      uniforms.aoMapIntensity.value = material.aoMapIntensity;\r\n      // uv repeat and offset setting priorities\r\n      // 1. color map\r\n      // 2. specular map\r\n      // 3. normal map\r\n      // 4. bump map\r\n      // 5. alpha map\r\n      // 6. emissive map\r\n      var uvScaleMap;\r\n      if (material.map) {\r\n        uvScaleMap = material.map;\r\n      } else if (material.specularMap) {\r\n        uvScaleMap = material.specularMap;\r\n      } else if (material.displacementMap) {\r\n        uvScaleMap = material.displacementMap;\r\n      } else if (material.normalMap) {\r\n        uvScaleMap = material.normalMap;\r\n      } else if (material.bumpMap) {\r\n        uvScaleMap = material.bumpMap;\r\n      } else if (material.glossinessMap) {\r\n        uvScaleMap = material.glossinessMap;\r\n      } else if (material.alphaMap) {\r\n        uvScaleMap = material.alphaMap;\r\n      } else if (material.emissiveMap) {\r\n        uvScaleMap = material.emissiveMap;\r\n      }\r\n      if (uvScaleMap !== undefined) {\r\n        // backwards compatibility\r\n        if (uvScaleMap.isWebGLRenderTarget) {\r\n          uvScaleMap = uvScaleMap.texture;\r\n        }\r\n        if (uvScaleMap.matrixAutoUpdate === true) {\r\n          uvScaleMap.updateMatrix();\r\n        }\r\n        uniforms.uvTransform.value.copy(uvScaleMap.matrix);\r\n      }\r\n      if (material.envMap) {\r\n        uniforms.envMap.value = material.envMap;\r\n        uniforms.envMapIntensity.value = material.envMapIntensity;\r\n        // don't flip CubeTexture envMaps, flip everything else:\r\n        //  WebGLRenderTargetCube will be flipped for backwards compatibility\r\n        //  WebGLRenderTargetCube.texture will be flipped because it's a Texture and NOT a CubeTexture\r\n        // this check must be handled differently, or removed entirely, if WebGLRenderTargetCube uses a CubeTexture in the future\r\n        uniforms.flipEnvMap.value = material.envMap.isCubeTexture ? -1 : 1;\r\n        uniforms.reflectivity.value = material.reflectivity;\r\n        uniforms.refractionRatio.value = material.refractionRatio;\r\n        uniforms.maxMipLevel.value = renderer.properties.get(material.envMap).__maxMipLevel;\r\n      }\r\n      uniforms.specular.value.copy(material.specular);\r\n      uniforms.glossiness.value = material.glossiness;\r\n      uniforms.glossinessMap.value = material.glossinessMap;\r\n      uniforms.emissiveMap.value = material.emissiveMap;\r\n      uniforms.bumpMap.value = material.bumpMap;\r\n      uniforms.normalMap.value = material.normalMap;\r\n      uniforms.displacementMap.value = material.displacementMap;\r\n      uniforms.displacementScale.value = material.displacementScale;\r\n      uniforms.displacementBias.value = material.displacementBias;\r\n      if (uniforms.glossinessMap.value !== null && defines.USE_GLOSSINESSMAP === undefined) {\r\n        defines.USE_GLOSSINESSMAP = '';\r\n        // set USE_ROUGHNESSMAP to enable vUv\r\n        defines.USE_ROUGHNESSMAP = '';\r\n      }\r\n      if (uniforms.glossinessMap.value === null && defines.USE_GLOSSINESSMAP !== undefined) {\r\n        delete defines.USE_GLOSSINESSMAP;\r\n        delete defines.USE_ROUGHNESSMAP;\r\n      }\r\n    }\r\n  };\r\n}\r\nfunction GLTFDracoMeshCompressionExtension(json, dracoLoader) {\r\n  if (!dracoLoader) {\r\n    throw new Error('THREE.GLTFLoader: No DRACOLoader instance provided.');\r\n  }\r\n  this.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\r\n  this.json = json;\r\n  this.dracoLoader = dracoLoader;\r\n}\r\nGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function(primitive, parser) {\r\n  var json = this.json;\r\n  var dracoLoader = this.dracoLoader;\r\n  var bufferViewIndex = primitive.extensions[this.name].bufferView;\r\n  var gltfAttributeMap = primitive.extensions[this.name].attributes;\r\n  var threeAttributeMap = {};\r\n  var attributeNormalizedMap = {};\r\n  var attributeTypeMap = {};\r\n  var threeAttributeName;\r\n  for (var attributeName in gltfAttributeMap) {\r\n    threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\r\n    threeAttributeMap[threeAttributeName] = gltfAttributeMap[attributeName];\r\n  }\r\n  for (attributeName in primitive.attributes) {\r\n    threeAttributeName = ATTRIBUTES[attributeName] || attributeName.toLowerCase();\r\n    if (gltfAttributeMap[attributeName] !== undefined) {\r\n      var accessorDef = json.accessors[primitive.attributes[attributeName]];\r\n      var componentType = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\r\n      attributeTypeMap[threeAttributeName] = componentType;\r\n      attributeNormalizedMap[threeAttributeName] = accessorDef.normalized === true;\r\n    }\r\n  }\r\n  return parser.getDependency('bufferView', bufferViewIndex).then(function(bufferView) {\r\n    return new Promise(function(resolve) {\r\n      dracoLoader.decodeDracoFile(bufferView, function(geometry) {\r\n        for (var attributeName in geometry.attributes) {\r\n          var attribute = geometry.attributes[attributeName];\r\n          var normalized = attributeNormalizedMap[attributeName];\r\n          if (normalized !== undefined) attribute.normalized = normalized;\r\n        }\r\n        resolve(geometry);\r\n      }, threeAttributeMap, attributeTypeMap);\r\n    });\r\n  });\r\n};\r\nfunction GLTFTextureDDSExtension(ddsLoader) {\r\n  if (!ddsLoader) {\r\n    throw new Error('THREE.GLTFLoader: Attempting to load .dds texture without importing THREE.DDSLoader');\r\n  }\r\n  this.name = EXTENSIONS.MSFT_TEXTURE_DDS;\r\n  this.ddsLoader = ddsLoader;\r\n}\r\nfunction GLTFTextureTransformExtension() {\r\n  this.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\r\n}\r\nGLTFTextureTransformExtension.prototype.extendTexture = function(texture, transform) {\r\n  texture = texture.clone();\r\n  if (transform.offset !== undefined) {\r\n    texture.offset.fromArray(transform.offset);\r\n  }\r\n  if (transform.rotation !== undefined) {\r\n    texture.rotation = transform.rotation;\r\n  }\r\n  if (transform.scale !== undefined) {\r\n    texture.repeat.fromArray(transform.scale);\r\n  }\r\n  if (transform.texCoord !== undefined) {\r\n    console.warn('THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.');\r\n  }\r\n  texture.needsUpdate = true;\r\n  return texture;\r\n};\r\n/* GLTF PARSER */\r\nfunction GLTFParser(json, extensions, options) {\r\n  this.json = json || {};\r\n  this.extensions = extensions || {};\r\n  this.options = options || {};\r\n  // loader object cache\r\n  this.cache = new GLTFRegistry();\r\n  // BufferGeometry caching\r\n  this.primitiveCache = {};\r\n  this.textureLoader = new THREE.TextureLoader(this.options.manager);\r\n  this.textureLoader.setCrossOrigin(this.options.crossOrigin);\r\n  this.fileLoader = new THREE.FileLoader(this.options.manager);\r\n  this.fileLoader.setResponseType('arraybuffer');\r\n  if (this.options.crossOrigin === 'use-credentials') {\r\n    this.fileLoader.setWithCredentials(true);\r\n  }\r\n}\r\nGLTFParser.prototype.parse = function(onLoad, onError) {\r\n  var parser = this;\r\n  var json = this.json;\r\n  var extensions = this.extensions;\r\n  // Clear the loader cache\r\n  this.cache.removeAll();\r\n  // Mark the special nodes/meshes in json for efficient parse\r\n  this.markDefs();\r\n  Promise.all([\r\n    this.getDependencies('scene'),\r\n    this.getDependencies('animation'),\r\n    this.getDependencies('camera')\r\n  ]).then(function(dependencies) {\r\n    var result = {\r\n      scene: dependencies[0][json.scene || 0],\r\n      scenes: dependencies[0],\r\n      animations: dependencies[1],\r\n      cameras: dependencies[2],\r\n      asset: json.asset,\r\n      parser: parser,\r\n      userData: {}\r\n    };\r\n    addUnknownExtensionsToUserData(extensions, result, json);\r\n    assignExtrasToUserData(result, json);\r\n    onLoad(result);\r\n  }).catch(onError);\r\n};\r\n/**\r\n * Marks the special nodes/meshes in json for efficient parse.\r\n */\r\nGLTFParser.prototype.markDefs = function() {\r\n  var nodeDefs = this.json.nodes || [];\r\n  var skinDefs = this.json.skins || [];\r\n  var meshDefs = this.json.meshes || [];\r\n  var meshReferences = {};\r\n  var meshUses = {};\r\n  // Nothing in the node definition indicates whether it is a Bone or an\r\n  // Object3D. Use the skins' joint references to mark bones.\r\n  for (var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex++) {\r\n    var joints = skinDefs[skinIndex].joints;\r\n    for (var i = 0, il = joints.length; i < il; i++) {\r\n      nodeDefs[joints[i]].isBone = true;\r\n    }\r\n  }\r\n  // Meshes can (and should) be reused by multiple nodes in a glTF asset. To\r\n  // avoid having more than one THREE.Mesh with the same name, count\r\n  // references and rename instances below.\r\n  //\r\n  // Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\r\n  for (var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex++) {\r\n    var nodeDef = nodeDefs[nodeIndex];\r\n    if (nodeDef.mesh !== undefined) {\r\n      if (meshReferences[nodeDef.mesh] === undefined) {\r\n        meshReferences[nodeDef.mesh] = meshUses[nodeDef.mesh] = 0;\r\n      }\r\n      meshReferences[nodeDef.mesh]++;\r\n      // Nothing in the mesh definition indicates whether it is\r\n      // a SkinnedMesh or Mesh. Use the node's mesh reference\r\n      // to mark SkinnedMesh if node has skin.\r\n      if (nodeDef.skin !== undefined) {\r\n        meshDefs[nodeDef.mesh].isSkinnedMesh = true;\r\n      }\r\n    }\r\n  }\r\n  this.json.meshReferences = meshReferences;\r\n  this.json.meshUses = meshUses;\r\n};\r\n/**\r\n * Requests the specified dependency asynchronously, with caching.\r\n * @param {string} type\r\n * @param {number} index\r\n * @return {Promise<THREE.Object3D|THREE.Material|THREE.Texture|THREE.AnimationClip|ArrayBuffer|Object>}\r\n */\r\nGLTFParser.prototype.getDependency = function(type, index) {\r\n  var cacheKey = type + ':' + index;\r\n  var dependency = this.cache.get(cacheKey);\r\n  if (!dependency) {\r\n    switch (type) {\r\n      case 'scene':\r\n        dependency = this.loadScene(index);\r\n        break;\r\n      case 'node':\r\n        dependency = this.loadNode(index);\r\n        break;\r\n      case 'mesh':\r\n        dependency = this.loadMesh(index);\r\n        break;\r\n      case 'accessor':\r\n        dependency = this.loadAccessor(index);\r\n        break;\r\n      case 'bufferView':\r\n        dependency = this.loadBufferView(index);\r\n        break;\r\n      case 'buffer':\r\n        dependency = this.loadBuffer(index);\r\n        break;\r\n      case 'material':\r\n        dependency = this.loadMaterial(index);\r\n        break;\r\n      case 'texture':\r\n        dependency = this.loadTexture(index);\r\n        break;\r\n      case 'skin':\r\n        dependency = this.loadSkin(index);\r\n        break;\r\n      case 'animation':\r\n        dependency = this.loadAnimation(index);\r\n        break;\r\n      case 'camera':\r\n        dependency = this.loadCamera(index);\r\n        break;\r\n      case 'light':\r\n        dependency = this.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL].loadLight(index);\r\n        break;\r\n      default:\r\n        throw new Error('Unknown type: ' + type);\r\n    }\r\n    this.cache.add(cacheKey, dependency);\r\n  }\r\n  return dependency;\r\n};\r\n/**\r\n * Requests all dependencies of the specified type asynchronously, with caching.\r\n * @param {string} type\r\n * @return {Promise<Array<Object>>}\r\n */\r\nGLTFParser.prototype.getDependencies = function(type) {\r\n  var dependencies = this.cache.get(type);\r\n  if (!dependencies) {\r\n    var parser = this;\r\n    var defs = this.json[type + (type === 'mesh' ? 'es' : 's')] || [];\r\n    dependencies = Promise.all(defs.map(function(def, index) {\r\n      return parser.getDependency(type, index);\r\n    }));\r\n    this.cache.add(type, dependencies);\r\n  }\r\n  return dependencies;\r\n};\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\r\n * @param {number} bufferIndex\r\n * @return {Promise<ArrayBuffer>}\r\n */\r\nGLTFParser.prototype.loadBuffer = function(bufferIndex) {\r\n  var bufferDef = this.json.buffers[bufferIndex];\r\n  var loader = this.fileLoader;\r\n  if (bufferDef.type && bufferDef.type !== 'arraybuffer') {\r\n    throw new Error('THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.');\r\n  }\r\n  // If present, GLB container is required to be the first buffer.\r\n  if (bufferDef.uri === undefined && bufferIndex === 0) {\r\n    return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);\r\n  }\r\n  var options = this.options;\r\n  return new Promise(function(resolve, reject) {\r\n    loader.load(resolveURL(bufferDef.uri, options.path), resolve, undefined, function() {\r\n      reject(new Error('THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".'));\r\n    });\r\n  });\r\n};\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\r\n * @param {number} bufferViewIndex\r\n * @return {Promise<ArrayBuffer>}\r\n */\r\nGLTFParser.prototype.loadBufferView = function(bufferViewIndex) {\r\n  var bufferViewDef = this.json.bufferViews[bufferViewIndex];\r\n  return this.getDependency('buffer', bufferViewDef.buffer).then(function(buffer) {\r\n    var byteLength = bufferViewDef.byteLength || 0;\r\n    var byteOffset = bufferViewDef.byteOffset || 0;\r\n    return buffer.slice(byteOffset, byteOffset + byteLength);\r\n  });\r\n};\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\r\n * @param {number} accessorIndex\r\n * @return {Promise<THREE.BufferAttribute|THREE.InterleavedBufferAttribute>}\r\n */\r\nGLTFParser.prototype.loadAccessor = function(accessorIndex) {\r\n  var parser = this;\r\n  var json = this.json;\r\n  var accessorDef = this.json.accessors[accessorIndex];\r\n  if (accessorDef.bufferView === undefined && accessorDef.sparse === undefined) {\r\n    // Ignore empty accessors, which may be used to declare runtime\r\n    // information about attributes coming from another source (e.g. Draco\r\n    // compression extension).\r\n    return Promise.resolve(null);\r\n  }\r\n  var pendingBufferViews = [];\r\n  if (accessorDef.bufferView !== undefined) {\r\n    pendingBufferViews.push(this.getDependency('bufferView', accessorDef.bufferView));\r\n  } else {\r\n    pendingBufferViews.push(null);\r\n  }\r\n  if (accessorDef.sparse !== undefined) {\r\n    pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.indices.bufferView));\r\n    pendingBufferViews.push(this.getDependency('bufferView', accessorDef.sparse.values.bufferView));\r\n  }\r\n  return Promise.all(pendingBufferViews).then(function(bufferViews) {\r\n    var bufferView = bufferViews[0];\r\n    var itemSize = WEBGL_TYPE_SIZES[accessorDef.type];\r\n    var TypedArray = WEBGL_COMPONENT_TYPES[accessorDef.componentType];\r\n    // For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\r\n    var elementBytes = TypedArray.BYTES_PER_ELEMENT;\r\n    var itemBytes = elementBytes * itemSize;\r\n    var byteOffset = accessorDef.byteOffset || 0;\r\n    var byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[accessorDef.bufferView].byteStride : undefined;\r\n    var normalized = accessorDef.normalized === true;\r\n    var array, bufferAttribute;\r\n    // The buffer is not interleaved if the stride is the item size in bytes.\r\n    if (byteStride && byteStride !== itemBytes) {\r\n      // Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\r\n      // This makes sure that IBA.count reflects accessor.count properly\r\n      var ibSlice = Math.floor(byteOffset / byteStride);\r\n      var ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\r\n      var ib = parser.cache.get(ibCacheKey);\r\n      if (!ib) {\r\n        array = new TypedArray(bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes);\r\n        // Integer parameters to IB/IBA are in array elements, not bytes.\r\n        ib = new THREE.InterleavedBuffer(array, byteStride / elementBytes);\r\n        parser.cache.add(ibCacheKey, ib);\r\n      }\r\n      bufferAttribute = new THREE.InterleavedBufferAttribute(ib, itemSize, (byteOffset % byteStride) / elementBytes, normalized);\r\n    } else {\r\n      if (bufferView === null) {\r\n        array = new TypedArray(accessorDef.count * itemSize);\r\n      } else {\r\n        array = new TypedArray(bufferView, byteOffset, accessorDef.count * itemSize);\r\n      }\r\n      bufferAttribute = new THREE.BufferAttribute(array, itemSize, normalized);\r\n    }\r\n    // https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\r\n    if (accessorDef.sparse !== undefined) {\r\n      var itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\r\n      var TypedArrayIndices = WEBGL_COMPONENT_TYPES[accessorDef.sparse.indices.componentType];\r\n      var byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\r\n      var byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\r\n      var sparseIndices = new TypedArrayIndices(bufferViews[1], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices);\r\n      var sparseValues = new TypedArray(bufferViews[2], byteOffsetValues, accessorDef.sparse.count * itemSize);\r\n      if (bufferView !== null) {\r\n        // Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\r\n        bufferAttribute.setArray(bufferAttribute.array.slice());\r\n      }\r\n      for (var i = 0, il = sparseIndices.length; i < il; i++) {\r\n        var index = sparseIndices[i];\r\n        bufferAttribute.setX(index, sparseValues[i * itemSize]);\r\n        if (itemSize >= 2) bufferAttribute.setY(index, sparseValues[i * itemSize + 1]);\r\n        if (itemSize >= 3) bufferAttribute.setZ(index, sparseValues[i * itemSize + 2]);\r\n        if (itemSize >= 4) bufferAttribute.setW(index, sparseValues[i * itemSize + 3]);\r\n        if (itemSize >= 5) throw new Error('THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.');\r\n      }\r\n    }\r\n    return bufferAttribute;\r\n  });\r\n};\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\r\n * @param {number} textureIndex\r\n * @return {Promise<THREE.Texture>}\r\n */\r\nGLTFParser.prototype.loadTexture = function(textureIndex) {\r\n  var parser = this;\r\n  var json = this.json;\r\n  var options = this.options;\r\n  var textureLoader = this.textureLoader;\r\n  var URL = window.URL || window.webkitURL;\r\n  var textureDef = json.textures[textureIndex];\r\n  var textureExtensions = textureDef.extensions || {};\r\n  var source;\r\n  if (textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS]) {\r\n    source = json.images[textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS].source];\r\n  } else {\r\n    source = json.images[textureDef.source];\r\n  }\r\n  var sourceURI = source.uri;\r\n  var isObjectURL = false;\r\n  if (source.bufferView !== undefined) {\r\n    // Load binary image data from bufferView, if provided.\r\n    sourceURI = parser.getDependency('bufferView', source.bufferView).then(function(bufferView) {\r\n      isObjectURL = true;\r\n      var blob = new Blob([bufferView], { type: source.mimeType });\r\n      sourceURI = URL.createObjectURL(blob);\r\n      return sourceURI;\r\n    });\r\n  }\r\n  return Promise.resolve(sourceURI).then(function(sourceURI) {\r\n    // Load Texture resource.\r\n    var loader = THREE.Loader.Handlers.get(sourceURI);\r\n    if (!loader) {\r\n      loader = textureExtensions[EXTENSIONS.MSFT_TEXTURE_DDS]\r\n        ? parser.extensions[EXTENSIONS.MSFT_TEXTURE_DDS].ddsLoader\r\n        : textureLoader;\r\n    }\r\n    return new Promise(function(resolve, reject) {\r\n      loader.load(resolveURL(sourceURI, options.path), resolve, undefined, reject);\r\n    });\r\n  }).then(function(texture) {\r\n    // Clean up resources and configure Texture.\r\n    if (isObjectURL === true) {\r\n      URL.revokeObjectURL(sourceURI);\r\n    }\r\n    texture.flipY = false;\r\n    if (textureDef.name !== undefined) texture.name = textureDef.name;\r\n    // Ignore unknown mime types, like DDS files.\r\n    if (source.mimeType in MIME_TYPE_FORMATS) {\r\n      texture.format = MIME_TYPE_FORMATS[source.mimeType];\r\n    }\r\n    var samplers = json.samplers || {};\r\n    var sampler = samplers[textureDef.sampler] || {};\r\n    texture.magFilter = WEBGL_FILTERS[sampler.magFilter] || THREE.LinearFilter;\r\n    texture.minFilter = WEBGL_FILTERS[sampler.minFilter] || THREE.LinearMipmapLinearFilter;\r\n    texture.wrapS = WEBGL_WRAPPINGS[sampler.wrapS] || THREE.RepeatWrapping;\r\n    texture.wrapT = WEBGL_WRAPPINGS[sampler.wrapT] || THREE.RepeatWrapping;\r\n    return texture;\r\n  });\r\n};\r\n/**\r\n * Asynchronously assigns a texture to the given material parameters.\r\n * @param {Object} materialParams\r\n * @param {string} mapName\r\n * @param {Object} mapDef\r\n * @return {Promise}\r\n */\r\nGLTFParser.prototype.assignTexture = function(materialParams, mapName, mapDef) {\r\n  var parser = this;\r\n  return this.getDependency('texture', mapDef.index).then(function(texture) {\r\n    if (!texture.isCompressedTexture) {\r\n      switch (mapName) {\r\n        case 'aoMap':\r\n        case 'emissiveMap':\r\n        case 'metalnessMap':\r\n        case 'normalMap':\r\n        case 'roughnessMap':\r\n          texture.format = THREE.RGBFormat;\r\n          break;\r\n      }\r\n    }\r\n    if (parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]) {\r\n      var transform = mapDef.extensions !== undefined ? mapDef.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM] : undefined;\r\n      if (transform) {\r\n        texture = parser.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(texture, transform);\r\n      }\r\n    }\r\n    materialParams[mapName] = texture;\r\n  });\r\n};\r\n/**\r\n * Assigns final material to a Mesh, Line, or Points instance. The instance\r\n * already has a material (generated from the glTF material options alone)\r\n * but reuse of the same glTF material may require multiple threejs materials\r\n * to accomodate different primitive types, defines, etc. New materials will\r\n * be created if necessary, and reused from a cache.\r\n * @param  {THREE.Object3D} mesh Mesh, Line, or Points instance.\r\n */\r\nGLTFParser.prototype.assignFinalMaterial = function(mesh) {\r\n  var geometry = mesh.geometry;\r\n  var material = mesh.material;\r\n  var extensions = this.extensions;\r\n  var useVertexTangents = geometry.attributes.tangent !== undefined;\r\n  var useVertexColors = geometry.attributes.color !== undefined;\r\n  var useFlatShading = geometry.attributes.normal === undefined;\r\n  var useSkinning = mesh.isSkinnedMesh === true;\r\n  var useMorphTargets = Object.keys(geometry.morphAttributes).length > 0;\r\n  var useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\r\n  if (mesh.isPoints) {\r\n    let cacheKey = 'PointsMaterial:' + material.uuid;\r\n    var pointsMaterial = this.cache.get(cacheKey);\r\n    if (!pointsMaterial) {\r\n      pointsMaterial = new THREE.PointsMaterial();\r\n      THREE.Material.prototype.copy.call(pointsMaterial, material);\r\n      pointsMaterial.color.copy(material.color);\r\n      pointsMaterial.map = material.map;\r\n      pointsMaterial.lights = false; // PointsMaterial doesn't support lights yet\r\n      this.cache.add(cacheKey, pointsMaterial);\r\n    }\r\n    material = pointsMaterial;\r\n  } else if (mesh.isLine) {\r\n    let cacheKey = 'LineBasicMaterial:' + material.uuid;\r\n    var lineMaterial = this.cache.get(cacheKey);\r\n    if (!lineMaterial) {\r\n      lineMaterial = new THREE.LineBasicMaterial();\r\n      THREE.Material.prototype.copy.call(lineMaterial, material);\r\n      lineMaterial.color.copy(material.color);\r\n      lineMaterial.lights = false; // LineBasicMaterial doesn't support lights yet\r\n      this.cache.add(cacheKey, lineMaterial);\r\n    }\r\n    material = lineMaterial;\r\n  }\r\n  // Clone the material if it will be modified\r\n  if (useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets) {\r\n    var cacheKey = 'ClonedMaterial:' + material.uuid + ':';\r\n    if (material.isGLTFSpecularGlossinessMaterial) cacheKey += 'specular-glossiness:';\r\n    if (useSkinning) cacheKey += 'skinning:';\r\n    if (useVertexTangents) cacheKey += 'vertex-tangents:';\r\n    if (useVertexColors) cacheKey += 'vertex-colors:';\r\n    if (useFlatShading) cacheKey += 'flat-shading:';\r\n    if (useMorphTargets) cacheKey += 'morph-targets:';\r\n    if (useMorphNormals) cacheKey += 'morph-normals:';\r\n    var cachedMaterial = this.cache.get(cacheKey);\r\n    if (!cachedMaterial) {\r\n      cachedMaterial = material.isGLTFSpecularGlossinessMaterial\r\n        ? extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(material)\r\n        : material.clone();\r\n      if (useSkinning) cachedMaterial.skinning = true;\r\n      if (useVertexTangents) cachedMaterial.vertexTangents = true;\r\n      if (useVertexColors) cachedMaterial.vertexColors = THREE.VertexColors;\r\n      if (useFlatShading) cachedMaterial.flatShading = true;\r\n      if (useMorphTargets) cachedMaterial.morphTargets = true;\r\n      if (useMorphNormals) cachedMaterial.morphNormals = true;\r\n      this.cache.add(cacheKey, cachedMaterial);\r\n    }\r\n    material = cachedMaterial;\r\n  }\r\n  // workarounds for mesh and geometry\r\n  if (material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined) {\r\n    console.log('THREE.GLTFLoader: Duplicating UVs to support aoMap.');\r\n    geometry.addAttribute('uv2', new THREE.BufferAttribute(geometry.attributes.uv.array, 2));\r\n  }\r\n  if (material.isGLTFSpecularGlossinessMaterial) {\r\n    // for GLTFSpecularGlossinessMaterial(ShaderMaterial) uniforms runtime update\r\n    mesh.onBeforeRender = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms;\r\n  }\r\n  mesh.material = material;\r\n};\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\r\n * @param {number} materialIndex\r\n * @return {Promise<THREE.Material>}\r\n */\r\nGLTFParser.prototype.loadMaterial = function(materialIndex) {\r\n  var parser = this;\r\n  var json = this.json;\r\n  var extensions = this.extensions;\r\n  var materialDef = json.materials[materialIndex];\r\n  var MaterialType;\r\n  var materialParams = {};\r\n  var materialExtensions = materialDef.extensions || {};\r\n  var pending = [];\r\n  if (materialExtensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {\r\n    var sgExtension = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];\r\n    MaterialType = sgExtension.getMaterialType();\r\n    pending.push(sgExtension.extendParams(materialParams, materialDef, parser));\r\n  } else if (materialExtensions[EXTENSIONS.KHR_MATERIALS_UNLIT]) {\r\n    var kmuExtension = extensions[EXTENSIONS.KHR_MATERIALS_UNLIT];\r\n    MaterialType = kmuExtension.getMaterialType();\r\n    pending.push(kmuExtension.extendParams(materialParams, materialDef, parser));\r\n  } else {\r\n    // Specification:\r\n    // https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\r\n    MaterialType = THREE.MeshStandardMaterial;\r\n    var metallicRoughness = materialDef.pbrMetallicRoughness || {};\r\n    materialParams.color = new THREE.Color(1.0, 1.0, 1.0);\r\n    materialParams.opacity = 1.0;\r\n    if (Array.isArray(metallicRoughness.baseColorFactor)) {\r\n      var array = metallicRoughness.baseColorFactor;\r\n      materialParams.color.fromArray(array);\r\n      materialParams.opacity = array[3];\r\n    }\r\n    if (metallicRoughness.baseColorTexture !== undefined) {\r\n      pending.push(parser.assignTexture(materialParams, 'map', metallicRoughness.baseColorTexture));\r\n    }\r\n    materialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\r\n    materialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\r\n    if (metallicRoughness.metallicRoughnessTexture !== undefined) {\r\n      pending.push(parser.assignTexture(materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture));\r\n      pending.push(parser.assignTexture(materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture));\r\n    }\r\n  }\r\n  if (materialDef.doubleSided === true) {\r\n    materialParams.side = THREE.DoubleSide;\r\n  }\r\n  var alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\r\n  if (alphaMode === ALPHA_MODES.BLEND) {\r\n    materialParams.transparent = true;\r\n  } else {\r\n    materialParams.transparent = false;\r\n    if (alphaMode === ALPHA_MODES.MASK) {\r\n      materialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\r\n    }\r\n  }\r\n  if (materialDef.normalTexture !== undefined && MaterialType !== THREE.MeshBasicMaterial) {\r\n    pending.push(parser.assignTexture(materialParams, 'normalMap', materialDef.normalTexture));\r\n    materialParams.normalScale = new THREE.Vector2(1, 1);\r\n    if (materialDef.normalTexture.scale !== undefined) {\r\n      materialParams.normalScale.set(materialDef.normalTexture.scale, materialDef.normalTexture.scale);\r\n    }\r\n  }\r\n  if (materialDef.occlusionTexture !== undefined && MaterialType !== THREE.MeshBasicMaterial) {\r\n    pending.push(parser.assignTexture(materialParams, 'aoMap', materialDef.occlusionTexture));\r\n    if (materialDef.occlusionTexture.strength !== undefined) {\r\n      materialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\r\n    }\r\n  }\r\n  if (materialDef.emissiveFactor !== undefined && MaterialType !== THREE.MeshBasicMaterial) {\r\n    materialParams.emissive = new THREE.Color().fromArray(materialDef.emissiveFactor);\r\n  }\r\n  if (materialDef.emissiveTexture !== undefined && MaterialType !== THREE.MeshBasicMaterial) {\r\n    pending.push(parser.assignTexture(materialParams, 'emissiveMap', materialDef.emissiveTexture));\r\n  }\r\n  return Promise.all(pending).then(function() {\r\n    var material;\r\n    if (MaterialType === THREE.ShaderMaterial) {\r\n      material = extensions[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(materialParams);\r\n    } else {\r\n      material = new MaterialType(materialParams);\r\n    }\r\n    if (materialDef.name !== undefined) material.name = materialDef.name;\r\n    // baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\r\n    if (material.map) material.map.encoding = THREE.sRGBEncoding;\r\n    if (material.emissiveMap) material.emissiveMap.encoding = THREE.sRGBEncoding;\r\n    if (material.specularMap) material.specularMap.encoding = THREE.sRGBEncoding;\r\n    assignExtrasToUserData(material, materialDef);\r\n    if (materialDef.extensions) addUnknownExtensionsToUserData(extensions, material, materialDef);\r\n    return material;\r\n  });\r\n};\r\n/**\r\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\r\n\t *\r\n\t * Creates BufferGeometries from primitives.\r\n\t *\r\n\t * @param {Array<GLTF.Primitive>} primitives\r\n\t * @return {Promise<Array<THREE.BufferGeometry>>}\r\n\t */\r\nGLTFParser.prototype.loadGeometries = function(primitives) {\r\n  var parser = this;\r\n  var extensions = this.extensions;\r\n  var cache = this.primitiveCache;\r\n  function createDracoPrimitive(primitive) {\r\n    return extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]\r\n      .decodePrimitive(primitive, parser)\r\n      .then(function(geometry) {\r\n        return addPrimitiveAttributes(geometry, primitive, parser);\r\n      });\r\n  }\r\n  var pending = [];\r\n  for (var i = 0, il = primitives.length; i < il; i++) {\r\n    var primitive = primitives[i];\r\n    var cacheKey = createPrimitiveKey(primitive);\r\n    // See if we've already created this geometry\r\n    var cached = cache[cacheKey];\r\n    if (cached) {\r\n      // Use the cached geometry if it exists\r\n      pending.push(cached.promise);\r\n    } else {\r\n      var geometryPromise;\r\n      if (primitive.extensions && primitive.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]) {\r\n        // Use DRACO geometry if available\r\n        geometryPromise = createDracoPrimitive(primitive);\r\n      } else {\r\n        // Otherwise create a new geometry\r\n        geometryPromise = addPrimitiveAttributes(new THREE.BufferGeometry(), primitive, parser);\r\n      }\r\n      // Cache this geometry\r\n      cache[cacheKey] = { primitive: primitive, promise: geometryPromise };\r\n      pending.push(geometryPromise);\r\n    }\r\n  }\r\n  return Promise.all(pending);\r\n};\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\r\n * @param {number} meshIndex\r\n * @return {Promise<THREE.Group|THREE.Mesh|THREE.SkinnedMesh>}\r\n */\r\nGLTFParser.prototype.loadMesh = function(meshIndex) {\r\n  var parser = this;\r\n  var json = this.json;\r\n  var meshDef = json.meshes[meshIndex];\r\n  var primitives = meshDef.primitives;\r\n  var pending = [];\r\n  for (var i = 0, il = primitives.length; i < il; i++) {\r\n    var material = primitives[i].material === undefined\r\n      ? createDefaultMaterial()\r\n      : this.getDependency('material', primitives[i].material);\r\n    pending.push(material);\r\n  }\r\n  return Promise.all(pending).then(function(originalMaterials) {\r\n    return parser.loadGeometries(primitives).then(function(geometries) {\r\n      var meshes = [];\r\n      for (var i = 0, il = geometries.length; i < il; i++) {\r\n        var geometry = geometries[i];\r\n        var primitive = primitives[i];\r\n        // 1. create Mesh\r\n        var mesh;\r\n        var material = originalMaterials[i];\r\n        if (primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\r\n          primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\r\n          primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\r\n          primitive.mode === undefined) {\r\n          // .isSkinnedMesh isn't in glTF spec. See .markDefs()\r\n          mesh = meshDef.isSkinnedMesh === true\r\n            ? new THREE.SkinnedMesh(geometry, material)\r\n            : new THREE.Mesh(geometry, material);\r\n          if (mesh.isSkinnedMesh === true && !mesh.geometry.attributes.skinWeight.normalized) {\r\n            // we normalize floating point skin weight array to fix malformed assets (see #15319)\r\n            // it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\r\n            mesh.normalizeSkinWeights();\r\n          }\r\n          if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP) {\r\n            mesh.drawMode = THREE.TriangleStripDrawMode;\r\n          } else if (primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN) {\r\n            mesh.drawMode = THREE.TriangleFanDrawMode;\r\n          }\r\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINES) {\r\n          mesh = new THREE.LineSegments(geometry, material);\r\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_STRIP) {\r\n          mesh = new THREE.Line(geometry, material);\r\n        } else if (primitive.mode === WEBGL_CONSTANTS.LINE_LOOP) {\r\n          mesh = new THREE.LineLoop(geometry, material);\r\n        } else if (primitive.mode === WEBGL_CONSTANTS.POINTS) {\r\n          mesh = new THREE.Points(geometry, material);\r\n        } else {\r\n          throw new Error('THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode);\r\n        }\r\n        if (Object.keys(mesh.geometry.morphAttributes).length > 0) {\r\n          updateMorphTargets(mesh, meshDef);\r\n        }\r\n        mesh.name = meshDef.name || ('mesh_' + meshIndex);\r\n        if (geometries.length > 1) mesh.name += '_' + i;\r\n        assignExtrasToUserData(mesh, meshDef);\r\n        parser.assignFinalMaterial(mesh);\r\n        meshes.push(mesh);\r\n      }\r\n      if (meshes.length === 1) {\r\n        return meshes[0];\r\n      }\r\n      var group = new THREE.Group();\r\n      for (let i = 0, il = meshes.length; i < il; i++) {\r\n        group.add(meshes[i]);\r\n      }\r\n      return group;\r\n    });\r\n  });\r\n};\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\r\n * @param {number} cameraIndex\r\n * @return {Promise<THREE.Camera>}\r\n */\r\nGLTFParser.prototype.loadCamera = function(cameraIndex) {\r\n  var camera;\r\n  var cameraDef = this.json.cameras[cameraIndex];\r\n  var params = cameraDef[cameraDef.type];\r\n  if (!params) {\r\n    console.warn('THREE.GLTFLoader: Missing camera parameters.');\r\n    return;\r\n  }\r\n  if (cameraDef.type === 'perspective') {\r\n    camera = new THREE.PerspectiveCamera(THREE.Math.radToDeg(params.yfov), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6);\r\n  } else if (cameraDef.type === 'orthographic') {\r\n    camera = new THREE.OrthographicCamera(params.xmag / -2, params.xmag / 2, params.ymag / 2, params.ymag / -2, params.znear, params.zfar);\r\n  }\r\n  if (cameraDef.name !== undefined) camera.name = cameraDef.name;\r\n  assignExtrasToUserData(camera, cameraDef);\r\n  return Promise.resolve(camera);\r\n};\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\r\n * @param {number} skinIndex\r\n * @return {Promise<Object>}\r\n */\r\nGLTFParser.prototype.loadSkin = function(skinIndex) {\r\n  var skinDef = this.json.skins[skinIndex];\r\n  var skinEntry = { joints: skinDef.joints };\r\n  if (skinDef.inverseBindMatrices === undefined) {\r\n    return Promise.resolve(skinEntry);\r\n  }\r\n  return this.getDependency('accessor', skinDef.inverseBindMatrices).then(function(accessor) {\r\n    skinEntry.inverseBindMatrices = accessor;\r\n    return skinEntry;\r\n  });\r\n};\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\r\n * @param {number} animationIndex\r\n * @return {Promise<THREE.AnimationClip>}\r\n */\r\nGLTFParser.prototype.loadAnimation = function(animationIndex) {\r\n  var json = this.json;\r\n  var animationDef = json.animations[animationIndex];\r\n  var pendingNodes = [];\r\n  var pendingInputAccessors = [];\r\n  var pendingOutputAccessors = [];\r\n  var pendingSamplers = [];\r\n  var pendingTargets = [];\r\n  for (var i = 0, il = animationDef.channels.length; i < il; i++) {\r\n    var channel = animationDef.channels[i];\r\n    var sampler = animationDef.samplers[channel.sampler];\r\n    var target = channel.target;\r\n    var name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\r\n    var input = animationDef.parameters !== undefined ? animationDef.parameters[sampler.input] : sampler.input;\r\n    var output = animationDef.parameters !== undefined ? animationDef.parameters[sampler.output] : sampler.output;\r\n    pendingNodes.push(this.getDependency('node', name));\r\n    pendingInputAccessors.push(this.getDependency('accessor', input));\r\n    pendingOutputAccessors.push(this.getDependency('accessor', output));\r\n    pendingSamplers.push(sampler);\r\n    pendingTargets.push(target);\r\n  }\r\n  return Promise.all([\r\n    Promise.all(pendingNodes),\r\n    Promise.all(pendingInputAccessors),\r\n    Promise.all(pendingOutputAccessors),\r\n    Promise.all(pendingSamplers),\r\n    Promise.all(pendingTargets)\r\n  ]).then(function(dependencies) {\r\n    var nodes = dependencies[0];\r\n    var inputAccessors = dependencies[1];\r\n    var outputAccessors = dependencies[2];\r\n    var samplers = dependencies[3];\r\n    var targets = dependencies[4];\r\n    var tracks = [];\r\n    for (var i = 0, il = nodes.length; i < il; i++) {\r\n      var node = nodes[i];\r\n      var inputAccessor = inputAccessors[i];\r\n      var outputAccessor = outputAccessors[i];\r\n      var sampler = samplers[i];\r\n      var target = targets[i];\r\n      if (node === undefined) continue;\r\n      node.updateMatrix();\r\n      node.matrixAutoUpdate = true;\r\n      var TypedKeyframeTrack;\r\n      switch (PATH_PROPERTIES[target.path]) {\r\n        case PATH_PROPERTIES.weights:\r\n          TypedKeyframeTrack = THREE.NumberKeyframeTrack;\r\n          break;\r\n        case PATH_PROPERTIES.rotation:\r\n          TypedKeyframeTrack = THREE.QuaternionKeyframeTrack;\r\n          break;\r\n        case PATH_PROPERTIES.position:\r\n        case PATH_PROPERTIES.scale:\r\n        default:\r\n          TypedKeyframeTrack = THREE.VectorKeyframeTrack;\r\n          break;\r\n      }\r\n      var targetName = node.name ? node.name : node.uuid;\r\n      var interpolation = sampler.interpolation !== undefined ? INTERPOLATION[sampler.interpolation] : THREE.InterpolateLinear;\r\n      var targetNames = [];\r\n      if (PATH_PROPERTIES[target.path] === PATH_PROPERTIES.weights) {\r\n        // Node may be a THREE.Group (glTF mesh with several primitives) or a THREE.Mesh.\r\n        node.traverse(function(object) {\r\n          if (object.isMesh === true && object.morphTargetInfluences) {\r\n            targetNames.push(object.name ? object.name : object.uuid);\r\n          }\r\n        });\r\n      } else {\r\n        targetNames.push(targetName);\r\n      }\r\n      var outputArray = outputAccessor.array;\r\n      if (outputAccessor.normalized) {\r\n        var scale;\r\n        if (outputArray.constructor === Int8Array) {\r\n          scale = 1 / 127;\r\n        } else if (outputArray.constructor === Uint8Array) {\r\n          scale = 1 / 255;\r\n        } else if (outputArray.constructor === Int16Array) {\r\n          scale = 1 / 32767;\r\n        } else if (outputArray.constructor === Uint16Array) {\r\n          scale = 1 / 65535;\r\n        } else {\r\n          throw new Error('THREE.GLTFLoader: Unsupported output accessor component type.');\r\n        }\r\n        var scaled = new Float32Array(outputArray.length);\r\n        for (let j = 0, jl = outputArray.length; j < jl; j++) {\r\n          scaled[j] = outputArray[j] * scale;\r\n        }\r\n        outputArray = scaled;\r\n      }\r\n      for (let j = 0, jl = targetNames.length; j < jl; j++) {\r\n        var track = new TypedKeyframeTrack(\r\n          targetNames[j] + '.' + PATH_PROPERTIES[target.path],\r\n          inputAccessor.array,\r\n          outputArray,\r\n          interpolation\r\n        );\r\n        // Override interpolation with custom factory method.\r\n        if (sampler.interpolation === 'CUBICSPLINE') {\r\n          track.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline(result) {\r\n            // A CUBICSPLINE keyframe in glTF has three output values for each input value,\r\n            // representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\r\n            // must be divided by three to get the interpolant's sampleSize argument.\r\n            return new GLTFCubicSplineInterpolant(this.times, this.values, this.getValueSize() / 3, result);\r\n          };\r\n          // Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\r\n          track.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\r\n        }\r\n        tracks.push(track);\r\n      }\r\n    }\r\n    var name = animationDef.name !== undefined ? animationDef.name : 'animation_' + animationIndex;\r\n    return new THREE.AnimationClip(name, undefined, tracks);\r\n  });\r\n};\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\r\n * @param {number} nodeIndex\r\n * @return {Promise<THREE.Object3D>}\r\n */\r\nGLTFParser.prototype.loadNode = function(nodeIndex) {\r\n  var json = this.json;\r\n  var extensions = this.extensions;\r\n  var parser = this;\r\n  var meshReferences = json.meshReferences;\r\n  var meshUses = json.meshUses;\r\n  var nodeDef = json.nodes[nodeIndex];\r\n  return (function() {\r\n    var pending = [];\r\n    if (nodeDef.mesh !== undefined) {\r\n      pending.push(parser.getDependency('mesh', nodeDef.mesh).then(function(mesh) {\r\n        var node;\r\n        if (meshReferences[nodeDef.mesh] > 1) {\r\n          var instanceNum = meshUses[nodeDef.mesh]++;\r\n          node = mesh.clone();\r\n          node.name += '_instance_' + instanceNum;\r\n          // onBeforeRender copy for Specular-Glossiness\r\n          node.onBeforeRender = mesh.onBeforeRender;\r\n          for (var i = 0, il = node.children.length; i < il; i++) {\r\n            node.children[i].name += '_instance_' + instanceNum;\r\n            node.children[i].onBeforeRender = mesh.children[i].onBeforeRender;\r\n          }\r\n        } else {\r\n          node = mesh;\r\n        }\r\n        // if weights are provided on the node, override weights on the mesh.\r\n        if (nodeDef.weights !== undefined) {\r\n          node.traverse(function(o) {\r\n            if (!o.isMesh) return;\r\n            for (var i = 0, il = nodeDef.weights.length; i < il; i++) {\r\n              o.morphTargetInfluences[i] = nodeDef.weights[i];\r\n            }\r\n          });\r\n        }\r\n        return node;\r\n      }));\r\n    }\r\n    if (nodeDef.camera !== undefined) {\r\n      pending.push(parser.getDependency('camera', nodeDef.camera));\r\n    }\r\n    if (nodeDef.extensions && nodeDef.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL] && nodeDef.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL].light !== undefined) {\r\n      pending.push(parser.getDependency('light', nodeDef.extensions[EXTENSIONS.KHR_LIGHTS_PUNCTUAL].light));\r\n    }\r\n    return Promise.all(pending);\r\n  }()).then(function(objects) {\r\n    var node;\r\n    // .isBone isn't in glTF spec. See .markDefs\r\n    if (nodeDef.isBone === true) {\r\n      node = new THREE.Bone();\r\n    } else if (objects.length > 1) {\r\n      node = new THREE.Group();\r\n    } else if (objects.length === 1) {\r\n      node = objects[0];\r\n    } else {\r\n      node = new THREE.Object3D();\r\n    }\r\n    if (node !== objects[0]) {\r\n      for (var i = 0, il = objects.length; i < il; i++) {\r\n        node.add(objects[i]);\r\n      }\r\n    }\r\n    if (nodeDef.name !== undefined) {\r\n      node.userData.name = nodeDef.name;\r\n      node.name = THREE.PropertyBinding.sanitizeNodeName(nodeDef.name);\r\n    }\r\n    assignExtrasToUserData(node, nodeDef);\r\n    if (nodeDef.extensions) addUnknownExtensionsToUserData(extensions, node, nodeDef);\r\n    if (nodeDef.matrix !== undefined) {\r\n      var matrix = new THREE.Matrix4();\r\n      matrix.fromArray(nodeDef.matrix);\r\n      node.applyMatrix(matrix);\r\n    } else {\r\n      if (nodeDef.translation !== undefined) {\r\n        node.position.fromArray(nodeDef.translation);\r\n      }\r\n      if (nodeDef.rotation !== undefined) {\r\n        node.quaternion.fromArray(nodeDef.rotation);\r\n      }\r\n      if (nodeDef.scale !== undefined) {\r\n        node.scale.fromArray(nodeDef.scale);\r\n      }\r\n    }\r\n    return node;\r\n  });\r\n};\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\r\n * @param {number} sceneIndex\r\n * @return {Promise<THREE.Scene>}\r\n */\r\nGLTFParser.prototype.loadScene = (function() {\r\n  // scene node hierachy builder\r\n  function buildNodeHierachy(nodeId, parentObject, json, parser) {\r\n    var nodeDef = json.nodes[nodeId];\r\n    return parser.getDependency('node', nodeId).then(function(node) {\r\n      if (nodeDef.skin === undefined) return node;\r\n      // build skeleton here as well\r\n      var skinEntry;\r\n      return parser.getDependency('skin', nodeDef.skin).then(function(skin) {\r\n        skinEntry = skin;\r\n        var pendingJoints = [];\r\n        for (var i = 0, il = skinEntry.joints.length; i < il; i++) {\r\n          pendingJoints.push(parser.getDependency('node', skinEntry.joints[i]));\r\n        }\r\n        return Promise.all(pendingJoints);\r\n      }).then(function(jointNodes) {\r\n        node.traverse(function(mesh) {\r\n          if (!mesh.isMesh) return;\r\n          var bones = [];\r\n          var boneInverses = [];\r\n          for (var j = 0, jl = jointNodes.length; j < jl; j++) {\r\n            var jointNode = jointNodes[j];\r\n            if (jointNode) {\r\n              bones.push(jointNode);\r\n              var mat = new THREE.Matrix4();\r\n              if (skinEntry.inverseBindMatrices !== undefined) {\r\n                mat.fromArray(skinEntry.inverseBindMatrices.array, j * 16);\r\n              }\r\n              boneInverses.push(mat);\r\n            } else {\r\n              console.warn('THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[j]);\r\n            }\r\n          }\r\n          mesh.bind(new THREE.Skeleton(bones, boneInverses), mesh.matrixWorld);\r\n        });\r\n        return node;\r\n      });\r\n    }).then(function(node) {\r\n      // build node hierachy\r\n      parentObject.add(node);\r\n      var pending = [];\r\n      if (nodeDef.children) {\r\n        var children = nodeDef.children;\r\n        for (var i = 0, il = children.length; i < il; i++) {\r\n          var child = children[i];\r\n          pending.push(buildNodeHierachy(child, node, json, parser));\r\n        }\r\n      }\r\n      return Promise.all(pending);\r\n    });\r\n  }\r\n  return async function loadScene(sceneIndex) {\r\n    var json = this.json;\r\n    var extensions = this.extensions;\r\n    var sceneDef = this.json.scenes[sceneIndex];\r\n    var parser = this;\r\n    var scene = new THREE.Scene();\r\n    if (sceneDef.name !== undefined) scene.name = sceneDef.name;\r\n    assignExtrasToUserData(scene, sceneDef);\r\n    if (sceneDef.extensions) addUnknownExtensionsToUserData(extensions, scene, sceneDef);\r\n    var nodeIds = sceneDef.nodes || [];\r\n    var pending = [];\r\n    for (var i = 0, il = nodeIds.length; i < il; i++) {\r\n      pending.push(buildNodeHierachy(nodeIds[i], scene, json, parser));\r\n    }\r\n    await Promise.all(pending);\r\n    return scene;\r\n  };\r\n}());\r\n\r\n/**\r\n * @param {THREE.Object3D|THREE.Material|THREE.BufferGeometry} object\r\n * @param {GLTF.definition} gltfDef\r\n */\r\nfunction assignExtrasToUserData(object, gltfDef) {\r\n  if (gltfDef.extras !== undefined) {\r\n    if (typeof gltfDef.extras === 'object') {\r\n      Object.assign(object.userData, gltfDef.extras);\r\n    } else {\r\n      console.warn('THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras);\r\n    }\r\n  }\r\n}\r\n\r\n/* GLTFREGISTRY */\r\nfunction GLTFRegistry() {\r\n  var objects = {};\r\n  return {\r\n    get: function(key) {\r\n      return objects[key];\r\n    },\r\n    add: function(key, object) {\r\n      objects[key] = object;\r\n    },\r\n    remove: function(key) {\r\n      delete objects[key];\r\n    },\r\n    removeAll: function() {\r\n      objects = {};\r\n    }\r\n  };\r\n}\r\n\r\nfunction addUnknownExtensionsToUserData(knownExtensions, object, objectDef) {\r\n  // Add unknown glTF extensions to an object's userData.\r\n  for (var name in objectDef.extensions) {\r\n    if (knownExtensions[name] === undefined) {\r\n      object.userData.gltfExtensions = object.userData.gltfExtensions || {};\r\n      object.userData.gltfExtensions[name] = objectDef.extensions[name];\r\n    }\r\n  }\r\n}\r\n\r\n/* UTILITY FUNCTIONS */\r\nfunction resolveURL(url, path) {\r\n  // Invalid URL\r\n  if (typeof url !== 'string' || url === '') return '';\r\n  // Host Relative URL\r\n  if (/^https?:\\/\\//i.test(path) && /^\\//.test(url)) {\r\n    // eslint-disable-next-line no-useless-escape\r\n    path = path.replace(/(^https?:\\/\\/[^\\/]+).*/i, '$1');\r\n  }\r\n  // Absolute URL http://,https://,//\r\n  if (/^(https?:)?\\/\\//i.test(url)) return url;\r\n  // Data URI\r\n  if (/^data:.*,.*$/i.test(url)) return url;\r\n  // Blob URL\r\n  if (/^blob:.*$/i.test(url)) return url;\r\n  // Relative URL\r\n  return path + url;\r\n}\r\n\r\n/**\r\n * @param {THREE.BufferGeometry} geometry\r\n * @param {GLTF.Primitive} primitiveDef\r\n * @param {GLTFParser} parser\r\n * @return {Promise<THREE.BufferGeometry>}\r\n */\r\nfunction addPrimitiveAttributes(geometry, primitiveDef, parser) {\r\n  var attributes = primitiveDef.attributes;\r\n  var pending = [];\r\n  function assignAttributeAccessor(accessorIndex, attributeName) {\r\n    return parser.getDependency('accessor', accessorIndex)\r\n      .then(function(accessor) {\r\n        geometry.addAttribute(attributeName, accessor);\r\n      });\r\n  }\r\n  for (var gltfAttributeName in attributes) {\r\n    var threeAttributeName = ATTRIBUTES[gltfAttributeName] || gltfAttributeName.toLowerCase();\r\n    // Skip attributes already provided by e.g. Draco extension.\r\n    if (threeAttributeName in geometry.attributes) continue;\r\n    pending.push(assignAttributeAccessor(attributes[gltfAttributeName], threeAttributeName));\r\n  }\r\n  if (primitiveDef.indices !== undefined && !geometry.index) {\r\n    var accessor = parser.getDependency('accessor', primitiveDef.indices).then(function(accessor) {\r\n      geometry.setIndex(accessor);\r\n    });\r\n    pending.push(accessor);\r\n  }\r\n  assignExtrasToUserData(geometry, primitiveDef);\r\n  return Promise.all(pending).then(function() {\r\n    return primitiveDef.targets !== undefined\r\n      ? addMorphTargets(geometry, primitiveDef.targets, parser)\r\n      : geometry;\r\n  });\r\n}\r\n\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\r\n *\r\n * @param {THREE.BufferGeometry} geometry\r\n * @param {Array<GLTF.Target>} targets\r\n * @param {GLTFParser} parser\r\n * @return {Promise<THREE.BufferGeometry>}\r\n */\r\nfunction addMorphTargets(geometry, targets, parser) {\r\n  var hasMorphPosition = false;\r\n  var hasMorphNormal = false;\r\n  for (let i = 0, il = targets.length; i < il; i++) {\r\n    var target = targets[i];\r\n    if (target.POSITION !== undefined) hasMorphPosition = true;\r\n    if (target.NORMAL !== undefined) hasMorphNormal = true;\r\n    if (hasMorphPosition && hasMorphNormal) break;\r\n  }\r\n  if (!hasMorphPosition && !hasMorphNormal) return Promise.resolve(geometry);\r\n  var pendingPositionAccessors = [];\r\n  var pendingNormalAccessors = [];\r\n  for (let i = 0, il = targets.length; i < il; i++) {\r\n    let target = targets[i];\r\n    if (hasMorphPosition) {\r\n      let pendingAccessor = target.POSITION !== undefined\r\n        ? parser.getDependency('accessor', target.POSITION)\r\n        : geometry.attributes.position;\r\n      pendingPositionAccessors.push(pendingAccessor);\r\n    }\r\n    if (hasMorphNormal) {\r\n      let pendingAccessor = target.NORMAL !== undefined\r\n        ? parser.getDependency('accessor', target.NORMAL)\r\n        : geometry.attributes.normal;\r\n      pendingNormalAccessors.push(pendingAccessor);\r\n    }\r\n  }\r\n  return Promise.all([\r\n    Promise.all(pendingPositionAccessors),\r\n    Promise.all(pendingNormalAccessors)\r\n  ]).then(function(accessors) {\r\n    var morphPositions = accessors[0];\r\n    var morphNormals = accessors[1];\r\n    // Clone morph target accessors before modifying them.\r\n    for (var i = 0, il = morphPositions.length; i < il; i++) {\r\n      if (geometry.attributes.position === morphPositions[i]) continue;\r\n      morphPositions[i] = cloneBufferAttribute(morphPositions[i]);\r\n    }\r\n    for (let i = 0, il = morphNormals.length; i < il; i++) {\r\n      if (geometry.attributes.normal === morphNormals[i]) continue;\r\n      morphNormals[i] = cloneBufferAttribute(morphNormals[i]);\r\n    }\r\n    for (let i = 0, il = targets.length; i < il; i++) {\r\n      var target = targets[i];\r\n      var attributeName = 'morphTarget' + i;\r\n      if (hasMorphPosition) {\r\n        // Three.js morph position is absolute value. The formula is\r\n        //   basePosition\r\n        //     + weight0 * ( morphPosition0 - basePosition )\r\n        //     + weight1 * ( morphPosition1 - basePosition )\r\n        //     ...\r\n        // while the glTF one is relative\r\n        //   basePosition\r\n        //     + weight0 * glTFmorphPosition0\r\n        //     + weight1 * glTFmorphPosition1\r\n        //     ...\r\n        // then we need to convert from relative to absolute here.\r\n        if (target.POSITION !== undefined) {\r\n          var positionAttribute = morphPositions[i];\r\n          positionAttribute.name = attributeName;\r\n          var position = geometry.attributes.position;\r\n          for (var j = 0, jl = positionAttribute.count; j < jl; j++) {\r\n            positionAttribute.setXYZ(\r\n              j,\r\n              positionAttribute.getX(j) + position.getX(j),\r\n              positionAttribute.getY(j) + position.getY(j),\r\n              positionAttribute.getZ(j) + position.getZ(j)\r\n            );\r\n          }\r\n        }\r\n      }\r\n      if (hasMorphNormal) {\r\n        // see target.POSITION's comment\r\n        if (target.NORMAL !== undefined) {\r\n          var normalAttribute = morphNormals[i];\r\n          normalAttribute.name = attributeName;\r\n          var normal = geometry.attributes.normal;\r\n          for (let j = 0, jl = normalAttribute.count; j < jl; j++) {\r\n            normalAttribute.setXYZ(\r\n              j,\r\n              normalAttribute.getX(j) + normal.getX(j),\r\n              normalAttribute.getY(j) + normal.getY(j),\r\n              normalAttribute.getZ(j) + normal.getZ(j)\r\n            );\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (hasMorphPosition) geometry.morphAttributes.position = morphPositions;\r\n    if (hasMorphNormal) geometry.morphAttributes.normal = morphNormals;\r\n    return geometry;\r\n  });\r\n}\r\n\r\nfunction createPrimitiveKey(primitiveDef) {\r\n  var dracoExtension = primitiveDef.extensions && primitiveDef.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];\r\n  var geometryKey;\r\n  if (dracoExtension) {\r\n    geometryKey = `draco:${dracoExtension.bufferView}:${dracoExtension.indices}:${createAttributesKey(dracoExtension.attributes)}`;\r\n    // geometryKey = 'draco:' + dracoExtension.bufferView\r\n    //   + ':' + dracoExtension.indices\r\n    //   + ':' + createAttributesKey(dracoExtension.attributes);\r\n  } else {\r\n    geometryKey = primitiveDef.indices + ':' + createAttributesKey(primitiveDef.attributes) + ':' + primitiveDef.mode;\r\n  }\r\n  return geometryKey;\r\n}\r\n\r\nfunction createAttributesKey(attributes) {\r\n  var attributesKey = '';\r\n  var keys = Object.keys(attributes).sort();\r\n  for (var i = 0, il = keys.length; i < il; i++) {\r\n    attributesKey += keys[i] + ':' + attributes[keys[i]] + ';';\r\n  }\r\n  return attributesKey;\r\n}\r\n\r\nlet defaultMaterial;\r\n/**\r\n * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\r\n */\r\nfunction createDefaultMaterial() {\r\n  defaultMaterial = defaultMaterial || new THREE.MeshStandardMaterial({\r\n    color: 0xFFFFFF,\r\n    emissive: 0x000000,\r\n    metalness: 1,\r\n    roughness: 1,\r\n    transparent: false,\r\n    depthTest: true,\r\n    side: THREE.FrontSide\r\n  });\r\n  return defaultMaterial;\r\n}\r\n\r\n/**\r\n * @param {THREE.Mesh} mesh\r\n * @param {GLTF.Mesh} meshDef\r\n */\r\nfunction updateMorphTargets(mesh, meshDef) {\r\n  mesh.updateMorphTargets();\r\n  if (meshDef.weights !== undefined) {\r\n    for (let i = 0, il = meshDef.weights.length; i < il; i++) {\r\n      mesh.morphTargetInfluences[i] = meshDef.weights[i];\r\n    }\r\n  }\r\n  // .extras has user-defined data, so check that .extras.targetNames is an array.\r\n  if (meshDef.extras && Array.isArray(meshDef.extras.targetNames)) {\r\n    var targetNames = meshDef.extras.targetNames;\r\n    if (mesh.morphTargetInfluences.length === targetNames.length) {\r\n      mesh.morphTargetDictionary = {};\r\n      for (let i = 0, il = targetNames.length; i < il; i++) {\r\n        mesh.morphTargetDictionary[targetNames[i]] = i;\r\n      }\r\n    } else {\r\n      console.warn('THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.');\r\n    }\r\n  }\r\n}\r\n\r\n/*********************************/\r\n/** ******** INTERPOLATION ********/\r\n/*********************************/\r\n// Spline Interpolation\r\n// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\r\nfunction GLTFCubicSplineInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\r\n  THREE.Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\r\n}\r\nGLTFCubicSplineInterpolant.prototype = Object.create(THREE.Interpolant.prototype);\r\nGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\r\nGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function(index) {\r\n  // Copies a sample value to the result buffer. See description of glTF\r\n  // CUBICSPLINE values layout in interpolate_() functionbelow.\r\n  // eslint-disable-next-line one-var\r\n  var result = this.resultBuffer,\r\n    values = this.sampleValues,\r\n    valueSize = this.valueSize,\r\n    offset = index * valueSize * 3 + valueSize;\r\n  for (var i = 0; i !== valueSize; i++) {\r\n    result[i] = values[offset + i];\r\n  }\r\n  return result;\r\n};\r\nGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\r\nGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\r\nGLTFCubicSplineInterpolant.prototype.interpolate_ = function(i1, t0, t, t1) {\r\n  var result = this.resultBuffer;\r\n  var values = this.sampleValues;\r\n  var stride = this.valueSize;\r\n  var stride2 = stride * 2;\r\n  var stride3 = stride * 3;\r\n  var td = t1 - t0;\r\n  var p = (t - t0) / td;\r\n  var pp = p * p;\r\n  var ppp = pp * p;\r\n  var offset1 = i1 * stride3;\r\n  var offset0 = offset1 - stride3;\r\n  var s2 = -2 * ppp + 3 * pp;\r\n  var s3 = ppp - pp;\r\n  var s0 = 1 - s2;\r\n  var s1 = s3 - pp + p;\r\n  // Layout of keyframe output values for CUBICSPLINE animations:\r\n  //   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\r\n  for (var i = 0; i !== stride; i++) {\r\n    var p0 = values[offset0 + i + stride]; // splineVertex_k\r\n    var m0 = values[offset0 + i + stride2] * td; // outTangent_k * (t_k+1 - t_k)\r\n    var p1 = values[offset1 + i + stride]; // splineVertex_k+1\r\n    var m1 = values[offset1 + i] * td; // inTangent_k+1 * (t_k+1 - t_k)\r\n    result[i] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\r\n  }\r\n  return result;\r\n};\r\n\r\nfunction cloneBufferAttribute(attribute) {\r\n  if (attribute.isInterleavedBufferAttribute) {\r\n    var count = attribute.count;\r\n    var itemSize = attribute.itemSize;\r\n    var array = attribute.array.slice(0, count * itemSize);\r\n    for (var i = 0, j = 0; i < count; ++i) {\r\n      array[j++] = attribute.getX(i);\r\n      if (itemSize >= 2) array[j++] = attribute.getY(i);\r\n      if (itemSize >= 3) array[j++] = attribute.getZ(i);\r\n      if (itemSize >= 4) array[j++] = attribute.getW(i);\r\n    }\r\n    return new THREE.BufferAttribute(array, itemSize, attribute.normalized);\r\n  }\r\n  return attribute.clone();\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/GLTFLoader.js","<template>\r\n  <div class=\"fix-bottom\" :style=\"{ zIndex: zIndex, position: position }\">\r\n    <div class=\"btn\" @click=\"onClick\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    zIndex: {\r\n      type: Number,\r\n      default: 10\r\n    },\r\n    position: {\r\n      type: String,\r\n      value: 'relative'\r\n    }\r\n  },\r\n  methods: {\r\n    onClick() {\r\n      this.$emit('tap');\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.fix-bottom {\r\n  left: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 100px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #000000;\r\n}\r\n\r\n.fix-bottom .btn {\r\n  width: 550px;\r\n  height: 68px;\r\n  text-align: center;\r\n  line-height: 68px;\r\n  border-radius: 20px;\r\n  background-color: #f63812;\r\n  font-size: 30px;\r\n  color: #ffffff;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/m-row-btn.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fix-bottom\",style:({ zIndex: _vm.zIndex, position: _vm.position })},[_c('div',{staticClass:\"btn\",on:{\"click\":_vm.onClick}},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a0ed69fe\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/m-row-btn.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a0ed69fe\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./m-row-btn.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./m-row-btn.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./m-row-btn.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a0ed69fe\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./m-row-btn.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a0ed69fe\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/m-row-btn.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"box\">\r\n    <span class=\"btn sub\" @click=\"onSub\">-</span>\r\n    <input class=\"input\" @change=\"onChange\" :value=\"val\" type=\"number\" />\r\n    <span class=\"btn add\" @click=\"onAdd\">+</span>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    value: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    min: {\r\n      type: Number,\r\n      default: 0\r\n    },\r\n    max: {\r\n      type: Number,\r\n      default: 10\r\n    },\r\n    step: {\r\n      type: Number,\r\n      default: 1\r\n    }\r\n  },\r\n  watch: {\r\n    value(newVal, oldVal) {\r\n      this.updateValue(newVal);\r\n    },\r\n    max() {\r\n      this.updateValue(this.val);\r\n    },\r\n    min() {\r\n      this.updateValue(this.val);\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      val: 0\r\n    };\r\n  },\r\n  methods: {\r\n    onSub() {\r\n      this.updateValue(this.val - this.step);\r\n    },\r\n    onAdd() {\r\n      this.updateValue(this.val + this.step);\r\n    },\r\n    onChange(e) {\r\n      let newVal = +e.target.value;\r\n      this.updateValue(newVal);\r\n    },\r\n    updateValue(newVal) {\r\n      let val = newVal;\r\n      if (isNaN(val)) {\r\n        val = 0;\r\n      }\r\n      if (val < this.min) {\r\n        val = this.min;\r\n      } else if (val > this.max) {\r\n        val = this.max;\r\n      }\r\n      this.val = val;\r\n      this.$emit('change', val);\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.box {\r\n  width: 154px;\r\n  height: 42px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n}\r\n.btn {\r\n  display: inline-block;\r\n  width: 46px;\r\n  height: 42px;\r\n  text-align: center;\r\n  line-height: 42px;\r\n  font-size: 36px;\r\n}\r\n.btn.sub {\r\n  background-color: #eeeef5;\r\n  border-top-left-radius: 21px;\r\n  border-bottom-left-radius: 21px;\r\n}\r\n.btn.add {\r\n  background-color: #acafb7;\r\n  border-top-right-radius: 21px;\r\n  border-bottom-right-radius: 21px;\r\n}\r\n.input {\r\n  width: 62px;\r\n  height: 100%;\r\n  text-align: center;\r\n  border: none;\r\n  padding: 0;\r\n  background-color: #dbdde2;\r\n  font-size: 28px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/m-stepper.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('span',{staticClass:\"btn sub\",on:{\"click\":_vm.onSub}},[_vm._v(\"-\")]),_vm._v(\" \"),_c('input',{staticClass:\"input\",attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.val},on:{\"change\":_vm.onChange}}),_vm._v(\" \"),_c('span',{staticClass:\"btn add\",on:{\"click\":_vm.onAdd}},[_vm._v(\"+\")])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cf7521d8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/m-stepper.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cf7521d8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./m-stepper.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./m-stepper.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./m-stepper.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cf7521d8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./m-stepper.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cf7521d8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/m-stepper.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div>\r\n    <div class=\"mask\" :style=\"{zIndex: zIndex}\" :class=\"{hidden: !show}\" @click=\"onClose\"></div>\r\n    <div class=\"content\" :style=\"{zIndex: zIndex + 1}\" :class=\"{hidden: !show}\">\r\n      <div class=\"info flex-row\">\r\n        <img class=\"goods-img\" :src=\"pic\" />\r\n        <div class=\"info1 flex-col\">\r\n          <span class=\"price\">￥{{goods.price}}</span>\r\n          <span class=\"other-info\">已选：{{curSpec.size}}</span>\r\n          <span class=\"other-info\">库存：{{curSpec.stock}}件</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"specs\">\r\n        <div class=\"spec-title\">尺码</div>\r\n        <div class=\"spec-list\">\r\n          <span\r\n            class=\"spec-item\"\r\n            v-for=\"(item, index) in specList\"\r\n            :key=\"index\"\r\n            :class=\"{selected: curIndex == index}\"\r\n            @click=\"onSpecSelect(index)\"\r\n          >{{item.size}}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex-row count-info\">\r\n        <span class=\"count-title\">购买数量</span>\r\n        <m-stepper @change=\"onCountChange\" :max=\"curSpec.stock\"></m-stepper>\r\n      </div>\r\n      <m-row-btn :z-index=\"zIndex + 2\" @tap=\"onConfirm\">立即购买</m-row-btn>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport mRowBtn from '../components/m-row-btn';\r\nimport mStepper from '../components/m-stepper';\r\nexport default {\r\n  components: {\r\n    mRowBtn,\r\n    mStepper\r\n  },\r\n  props: {\r\n    zIndex: {\r\n      type: Number,\r\n      default: 10\r\n    },\r\n    show: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    goods: {\r\n      type: Object,\r\n      default: null\r\n    }\r\n  },\r\n  data: function() {\r\n    return {\r\n      // specList: ['35', '36', '37', '38', '39', '40'],\r\n      curIndex: 0,\r\n      count: 0\r\n    };\r\n  },\r\n  computed: {\r\n    pic() {\r\n      if (this.goods && this.goods.default_image_url) {\r\n        return `https://www.zugou.vip/media/${this.goods.default_image_url}`;\r\n      } else {\r\n        return '';\r\n      }\r\n    },\r\n    curSpec() {\r\n      if (!this.specList[this.curIndex]) {\r\n        return {\r\n          size: '',\r\n          stock: 0\r\n        };\r\n      }\r\n      return this.specList[this.curIndex];\r\n    },\r\n    specList() {\r\n      if (!this.goods || !this.goods.size_stock) {\r\n        return [];\r\n      }\r\n      let arr = this.goods.size_stock.map(item => {\r\n        let obj = {};\r\n        for (let key in item) {\r\n          obj.size = key;\r\n          obj.stock = +item[key];\r\n        }\r\n        return obj;\r\n      });\r\n      return arr;\r\n    }\r\n  },\r\n  methods: {\r\n    onClose() {\r\n      this.$emit('close');\r\n    },\r\n    onSpecSelect(index) {\r\n      this.curIndex = index;\r\n    },\r\n    onCountChange(newVal) {\r\n      this.count = newVal;\r\n    },\r\n    onConfirm() {\r\n      if (this.count === 0) {\r\n        return;\r\n      }\r\n      let curSpec = this.curSpec;\r\n      if (curSpec.stock === 0) {\r\n        return;\r\n      }\r\n      let price = +this.goods.price || 0;\r\n      let totalAmount = price * this.count;\r\n      this.$emit('confirm', {\r\n        size: this.curSpec.size,\r\n        goodsNumber: this.goods.goodsNumber,\r\n        count: this.count,\r\n        total_amount: totalAmount,\r\n        source: 'detail',\r\n        goodsName: this.goods.name,\r\n        price: price,\r\n        goodsPic: this.goods.default_image_url\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.mask {\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #000;\r\n  opacity: 0.4;\r\n  left: 0;\r\n  top: 0;\r\n}\r\n.mask.hidden {\r\n  display: none;\r\n}\r\n.content {\r\n  position: fixed;\r\n  width: 100%;\r\n  background-color: #fff;\r\n  box-shadow: 0px 6px 16px 3px rgba(0, 0, 0, 0.08);\r\n  border-radius: 100px 100px 0px 0px;\r\n  background-color: #ffffff;\r\n  left: 0;\r\n  bottom: 0;\r\n  transition: transform 0.3s linear;\r\n  transform: translateY(0);\r\n}\r\n.content.hidden {\r\n  transform: translateY(100%);\r\n}\r\n.info {\r\n  align-items: flex-end;\r\n  padding: 80px 40px 40px 40px;\r\n}\r\n.info1 {\r\n  padding: 0 20px;\r\n}\r\n.price {\r\n  font-size: 26px;\r\n  color: #000;\r\n}\r\n.other-info {\r\n  font-size: 16px;\r\n  color: #acafb7;\r\n  margin-top: 8px;\r\n}\r\n.goods-img {\r\n  width: 252px;\r\n  height: 208px;\r\n}\r\n.specs {\r\n  padding: 40px;\r\n}\r\n.spec-list {\r\n  border-bottom: 2px solid #d8d8d8;\r\n  padding-bottom: 40px;\r\n}\r\n.spec-title {\r\n  color: #4d4d4d;\r\n  font-size: 30px;\r\n}\r\n.spec-item {\r\n  display: inline-block;\r\n  height: 42px;\r\n  line-height: 42px;\r\n  padding: 0 50px;\r\n  margin: 22px 22px 0 0;\r\n  color: #4d4d4d;\r\n  font-size: 30px;\r\n  background-color: #dbdde2;\r\n  border-radius: 10px;\r\n}\r\n.spec-item.selected {\r\n  background-color: #f63812;\r\n  color: #fff;\r\n}\r\n.count-info {\r\n  width: 670px;\r\n  height: 86px;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  border-bottom: 2px solid #d8d8d8;\r\n  margin: 0 auto 110px;\r\n}\r\n.count-title {\r\n  font-size: 30px;\r\n  color: #4d4d4d;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/m-spec-box.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mask\",class:{hidden: !_vm.show},style:({zIndex: _vm.zIndex}),on:{\"click\":_vm.onClose}}),_vm._v(\" \"),_c('div',{staticClass:\"content\",class:{hidden: !_vm.show},style:({zIndex: _vm.zIndex + 1})},[_c('div',{staticClass:\"info flex-row\"},[_c('img',{staticClass:\"goods-img\",attrs:{\"src\":_vm.pic}}),_vm._v(\" \"),_c('div',{staticClass:\"info1 flex-col\"},[_c('span',{staticClass:\"price\"},[_vm._v(\"￥\"+_vm._s(_vm.goods.price))]),_vm._v(\" \"),_c('span',{staticClass:\"other-info\"},[_vm._v(\"已选：\"+_vm._s(_vm.curSpec.size))]),_vm._v(\" \"),_c('span',{staticClass:\"other-info\"},[_vm._v(\"库存：\"+_vm._s(_vm.curSpec.stock)+\"件\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"specs\"},[_c('div',{staticClass:\"spec-title\"},[_vm._v(\"尺码\")]),_vm._v(\" \"),_c('div',{staticClass:\"spec-list\"},_vm._l((_vm.specList),function(item,index){return _c('span',{key:index,staticClass:\"spec-item\",class:{selected: _vm.curIndex == index},on:{\"click\":function($event){return _vm.onSpecSelect(index)}}},[_vm._v(_vm._s(item.size))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"flex-row count-info\"},[_c('span',{staticClass:\"count-title\"},[_vm._v(\"购买数量\")]),_vm._v(\" \"),_c('m-stepper',{attrs:{\"max\":_vm.curSpec.stock},on:{\"change\":_vm.onCountChange}})],1),_vm._v(\" \"),_c('m-row-btn',{attrs:{\"z-index\":_vm.zIndex + 2},on:{\"tap\":_vm.onConfirm}},[_vm._v(\"立即购买\")])],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-099f23e2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/m-spec-box.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-099f23e2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./m-spec-box.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./m-spec-box.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./m-spec-box.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-099f23e2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./m-spec-box.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-099f23e2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/m-spec-box.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"container\">\r\n    <div class=\"instructions\" @click=\"onChangeShow\">\r\n      <span>{{title}}</span>\r\n      <img class=\"ins-img\" v-show=\"isShow\" src=\"../assets/sub.png\" />\r\n      <img class=\"ins-img\" v-show=\"!isShow\" src=\"../assets/add.png\" />\r\n    </div>\r\n    <div class=\"content\" v-show=\"isShow\">\r\n      <div class=\"icon-box\" v-if=\"icon\">\r\n        <img :src=\"icon\" class=\"icon\" />\r\n      </div>\r\n      <div class=\"inner-content\" v-html=\"transContent\">\r\n      </div>\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    title: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    content: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    icon: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  computed: {\r\n    transContent() {\r\n      return this.content.replace(/\\n/g, '<br/>');\r\n    }\r\n  },\r\n  data: function() {\r\n    return {\r\n      isShow: false\r\n    };\r\n  },\r\n  methods: {\r\n    onChangeShow: function() {\r\n      this.isShow = !this.isShow;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  border-top: 1px solid #dbdde2;\r\n  padding: 26px 0;\r\n}\r\n.icon-box {\r\n  display: inline-block;\r\n  width: 24px;\r\n  height: 24px;\r\n  line-height: 24px;\r\n}\r\n.icon {\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n}\r\n.instructions {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n}\r\n.instructions span {\r\n  font-size: 24px;\r\n  font-weight: 500;\r\n}\r\n.ins-img {\r\n  width: 19px;\r\n  height: 19px;\r\n  margin-top: 6px;\r\n}\r\n.content {\r\n  border-top: 1px solid #dbdde2;\r\n  padding: 26px 0;\r\n  font-size: 24px;\r\n  color: #7f8389;\r\n  line-height: 32px;\r\n  font-weight: 300;\r\n  margin-top: 26px;\r\n}\r\n.inner-content {\r\n  display: inline-block;\r\n  min-width: 300px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/m-instruction.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"instructions\",on:{\"click\":_vm.onChangeShow}},[_c('span',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"ins-img\",attrs:{\"src\":require(\"../assets/sub.png\")}}),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShow),expression:\"!isShow\"}],staticClass:\"ins-img\",attrs:{\"src\":require(\"../assets/add.png\")}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"content\"},[(_vm.icon)?_c('div',{staticClass:\"icon-box\"},[_c('img',{staticClass:\"icon\",attrs:{\"src\":_vm.icon}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"inner-content\",domProps:{\"innerHTML\":_vm._s(_vm.transContent)}}),_vm._v(\" \"),_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3b0289c8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/m-instruction.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3b0289c8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./m-instruction.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./m-instruction.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./m-instruction.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3b0289c8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./m-instruction.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3b0289c8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/m-instruction.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div class=\"section\">\r\n    <div class=\"main-img\">\r\n      <canvas width=\"670\" height=\"670\" ref=\"canvas\" @click=\"onCanvasClick\"></canvas>\r\n    </div>\r\n    <div class=\"content\">\r\n      <span class=\"title\">{{details.name}}</span>\r\n      <span class=\"sub-title\">{{details.subTitle}}</span>\r\n      <div class=\"icon-group\">\r\n        <span class=\"price\">¥{{details.price}}</span>\r\n        <img v-show=\"details.isLike\" class=\"like\" src=\"../assets/like.png\" />\r\n        <img v-show=\"!details.isLike\" class=\"like\" src=\"../assets/like_grey.png\" />\r\n        <!-- <button class=\"share\"></button> -->\r\n      </div>\r\n      <span class=\"instructions\">{{details.brandStory}}</span>\r\n      <div>\r\n        <m-instruction title=\"详细特征\" :content=\"details.details\"></m-instruction>\r\n        <m-instruction title=\"尺码表\" content>\r\n          <img class=\"size-chart\" src=\"/static/size-chart.png\" />\r\n        </m-instruction>\r\n        <m-instruction title=\"特别说明\" :content=\"note\"></m-instruction>\r\n        <m-instruction title=\"配送信息\" content=\"顺丰包邮 次日达\" icon=\"/static/icon-car.png\"></m-instruction>\r\n      </div>\r\n      <div class=\"about-search\">\r\n        <span>相关搜索</span>\r\n        <div class=\"goods-img-list-box\">\r\n          <div class=\"goods-img-list\">\r\n            <img\r\n              @click=\"goodsTap(index)\"\r\n              v-for=\"(img, index) in goodsImgList\"\r\n              :key=\"index\"\r\n              class=\"search-img\"\r\n              :src=\"img\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <m-row-btn @tap=\"onShowSpec\" v-show=\"!isShowSpec\" position=\"fixed\">确认购买</m-row-btn>\r\n    <m-spec-box\r\n      :z-index=\"11\"\r\n      :show=\"isShowSpec\"\r\n      @close=\"onHideSpec\"\r\n      @confirm=\"onConfirm\"\r\n      :goods=\"details\"\r\n    ></m-spec-box>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport * as THREE from 'three';\r\n\r\nimport GLTFLoader from '../utils/GLTFLoader';\r\n// import GLTFLoader from 'three/examples/js/loaders/GLTFLoader';\r\n// import Stats from 'three/examples/js/libs/stats.min.js';\r\n\r\nimport mRowBtn from '../components/m-row-btn';\r\nimport mSpecBox from '../components/m-spec-box';\r\nimport mInstruction from '../components/m-instruction';\r\n\r\nimport wx from 'weixin-js-sdk';\r\n\r\nimport { mapState, mapMutations } from 'vuex';\r\n\r\nexport default {\r\n  components: {\r\n    mInstruction,\r\n    mRowBtn,\r\n    mSpecBox\r\n  },\r\n  data: function() {\r\n    return {\r\n      goodsList: [],\r\n      goodsImgList: [],\r\n      details: {},\r\n      isShowSpec: false,\r\n      // 特别说明\r\n      note: `敬请注意，本页面中的商品信息以及介绍内容仅供参考，商品具体情况请以实物为准。 \r\n      价格说明:上文显示的划线价格系该商品的建议零售价(而非法律意义上的原价)，仅供您参考。 \r\n      \r\n      如需办理7天无理由退货，请确保退回的商品本身、原包装(例如:原装鞋盒等)相关配(附)件(例如:吊牌、合格证、标签等)及赠品(如有)均保持完好状态且齐全。特别提醒:产品鞋盒含有合格证及商品信息条码，系产品的必要组成部分。如因鞋盒受损、涂鸦、脏污、丢失、非原装等原因无法保持商品原有完好状态、影响商品二次销售的，我们将无法为您提供无理由退货服务。`\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(['gltfObj'])\r\n  },\r\n  created: function() {\r\n    this.goodsNumber = this.$route.query.goodsNumber;\r\n    this._loadGoods();\r\n\r\n    axios\r\n      .get('goods/goods_new?user_id=1')\r\n      .then(res => {\r\n        if (res.status === 200) {\r\n          this.goodsList = res.data;\r\n          this.goodsImgList = res.data.map(item => {\r\n            if (item.default_image_url) {\r\n              return `https://www.zugou.vip/media/${item.default_image_url}`;\r\n            } else {\r\n              return '';\r\n            }\r\n          });\r\n        }\r\n      })\r\n      .catch(res => {\r\n        console.log(res);\r\n      });\r\n  },\r\n  mounted: function() {\r\n    this._initCanvas();\r\n  },\r\n  methods: {\r\n    ...mapMutations(['setGltfObj']),\r\n    _initCanvas: function() {\r\n      let canvas = this.$refs.canvas;\r\n      let scene = new THREE.Scene();\r\n      scene.background = new THREE.Color(0xdbdde2);\r\n      // var stats = new Stats();\r\n      // document.body.appendChild(stats.dom);\r\n\r\n      let loader = new GLTFLoader();\r\n      let pa = new THREE.Object3D();\r\n      if (!this.gltfObj) {\r\n        loader.load(\r\n          'https://zugou.ninewe.com/test1/model/1.gltf',\r\n          obj => {\r\n            this.setGltfObj(obj);\r\n            // pa.position = new THREE.Vector3(0, 0, 0);\r\n            obj.scene.children[0].position.set(3, 0, -2);\r\n            obj.scene.children[0].parent = pa;\r\n            scene.add(pa);\r\n            scene.add(obj.scene);\r\n          },\r\n          function(xhr) {\r\n            console.log((xhr.loaded / xhr.total) * 100 + '% loaded');\r\n          },\r\n          function(error) {\r\n            console.log(error, 'load error!');\r\n          }\r\n        );\r\n      } else {\r\n        let obj = this.gltfObj;\r\n        obj.scene.children[0].position.set(3, 0, -2);\r\n        obj.scene.children[0].parent = pa;\r\n        scene.add(pa);\r\n        scene.add(obj.scene);\r\n      }\r\n\r\n      /**\r\n       * 相机设置：透视投影\r\n       */\r\n      var camera = new THREE.PerspectiveCamera(45, 1, 0.1, 10000);\r\n      camera.position.set(0, 0, 30);\r\n      camera.lookAt(pa.position);\r\n      /**\r\n       * 创建渲染器\r\n       */\r\n      var renderer = new THREE.WebGLRenderer({\r\n        canvas: canvas,\r\n        alpha: true\r\n      });\r\n      renderer.gammaInput = true;\r\n      renderer.gammaOutput = true;\r\n      renderer.setClearAlpha(0);\r\n      // 渲染函数\r\n      function render() {\r\n        // stats.update();\r\n        requestAnimationFrame(render); // 请求再次执行渲染函数render，渲染下一帧\r\n        if (pa.rotation.y !== Math.PI * 2) {\r\n          RotationY(pa);\r\n          renderer.render(scene, camera); // 执行渲染操作\r\n        }\r\n      }\r\n      render();\r\n\r\n      // 让某个物体围绕Y轴自动旋转一周后停下\r\n      function RotationY(obj) {\r\n        pa.rotation.y += 0.05;\r\n        if (pa.rotation.y >= Math.PI * 2) {\r\n          pa.rotation.y = Math.PI * 2;\r\n        }\r\n      }\r\n    },\r\n    _loadGoods() {\r\n      axios\r\n        .get(`/goods/goods_detail?goodsNumber=${this.goodsNumber}&user_id=1`)\r\n        .then(res => {\r\n          console.log(res);\r\n          if (res.status === 200) {\r\n            this.details = res.data;\r\n          }\r\n        })\r\n        .catch(res => {\r\n          console.log(res);\r\n        });\r\n    },\r\n    onCanvasClick: function() {\r\n      this.$router.push({\r\n        path: '/shoedetail'\r\n      });\r\n    },\r\n    onShowSpec() {\r\n      this.isShowSpec = true;\r\n    },\r\n    onHideSpec() {\r\n      this.isShowSpec = false;\r\n    },\r\n    onConfirm(d) {\r\n      let str = encodeURIComponent(JSON.stringify(d));\r\n      wx.miniProgram.navigateTo({\r\n        url: `/pages/order/order?data=${str}`\r\n      });\r\n    },\r\n    goodsTap(index) {\r\n      this.goodsNumber = this.goodsList[index].goodsNumber;\r\n      this._loadGoods();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.main-img {\r\n  padding: 64px 40px;\r\n}\r\n.content {\r\n  box-shadow: 0px 6px 16px 3px rgba(0, 0, 0, 0.08);\r\n  border-radius: 100px 100px 0px 0px;\r\n  padding: 40px 40px 110px 40px;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.title {\r\n  font-size: 36px;\r\n  font-weight: 500;\r\n  line-height: 50px;\r\n  text-align: center;\r\n}\r\n.sub-title {\r\n  font-size: 24px;\r\n  font-family: PingFangSC-Light;\r\n  font-weight: 300;\r\n  line-height: 28px;\r\n  margin-top: 4px;\r\n  text-align: center;\r\n}\r\n.icon-group {\r\n  height: 26px;\r\n  width: 100%;\r\n  margin: 8px 0 48px 0;\r\n  position: relative;\r\n  text-align: center;\r\n}\r\n.price {\r\n  font-size: 32px;\r\n  line-height: 45px;\r\n}\r\n.like {\r\n  width: 32px;\r\n  height: 26px;\r\n  position: absolute;\r\n  right: 60px;\r\n  top: 18px;\r\n}\r\n.share {\r\n  width: 25px;\r\n  height: 25px;\r\n  position: absolute;\r\n  right: 4px;\r\n  top: 18px;\r\n  background-repeat: no-repeat;\r\n  background-size: 24px 24px;\r\n  padding: 0;\r\n  border: none;\r\n  background-color: transparent;\r\n  background-image: url('../assets/share.png');\r\n}\r\n.share::after {\r\n  border: none;\r\n}\r\n.instructions {\r\n  font-size: 24px;\r\n  font-weight: 500;\r\n  line-height: 40px;\r\n}\r\n.about-search span {\r\n  display: block;\r\n  width: 100%;\r\n  height: 33px;\r\n  font-size: 24px;\r\n  font-weight: 500;\r\n  line-height: 33px;\r\n  border-top: 1px solid #dbdde2;\r\n  padding: 26px 0;\r\n}\r\n.goods-img-list-box {\r\n  width: 100%;\r\n  height: 160px;\r\n  overflow-y: hidden;\r\n  overflow-x: auto;\r\n  padding: 20px 10px;\r\n}\r\n.goods-img-list {\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: nowrap;\r\n}\r\n.search-img {\r\n  height: 100px;\r\n  width: auto;\r\n  margin-right: 20px;\r\n  flex-grow: 0;\r\n  flex-shrink: 0;\r\n}\r\n.size-chart {\r\n  width: 100%;\r\n  height: auto;\r\n  margin: 0 auto;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"section\"},[_c('div',{staticClass:\"main-img\"},[_c('canvas',{ref:\"canvas\",attrs:{\"width\":\"670\",\"height\":\"670\"},on:{\"click\":_vm.onCanvasClick}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.details.name))]),_vm._v(\" \"),_c('span',{staticClass:\"sub-title\"},[_vm._v(_vm._s(_vm.details.subTitle))]),_vm._v(\" \"),_c('div',{staticClass:\"icon-group\"},[_c('span',{staticClass:\"price\"},[_vm._v(\"¥\"+_vm._s(_vm.details.price))]),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.details.isLike),expression:\"details.isLike\"}],staticClass:\"like\",attrs:{\"src\":require(\"../assets/like.png\")}}),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.details.isLike),expression:\"!details.isLike\"}],staticClass:\"like\",attrs:{\"src\":require(\"../assets/like_grey.png\")}})]),_vm._v(\" \"),_c('span',{staticClass:\"instructions\"},[_vm._v(_vm._s(_vm.details.brandStory))]),_vm._v(\" \"),_c('div',[_c('m-instruction',{attrs:{\"title\":\"详细特征\",\"content\":_vm.details.details}}),_vm._v(\" \"),_c('m-instruction',{attrs:{\"title\":\"尺码表\",\"content\":\"\"}},[_c('img',{staticClass:\"size-chart\",attrs:{\"src\":\"/static/size-chart.png\"}})]),_vm._v(\" \"),_c('m-instruction',{attrs:{\"title\":\"特别说明\",\"content\":_vm.note}}),_vm._v(\" \"),_c('m-instruction',{attrs:{\"title\":\"配送信息\",\"content\":\"顺丰包邮 次日达\",\"icon\":\"/static/icon-car.png\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"about-search\"},[_c('span',[_vm._v(\"相关搜索\")]),_vm._v(\" \"),_c('div',{staticClass:\"goods-img-list-box\"},[_c('div',{staticClass:\"goods-img-list\"},_vm._l((_vm.goodsImgList),function(img,index){return _c('img',{key:index,staticClass:\"search-img\",attrs:{\"src\":img},on:{\"click\":function($event){return _vm.goodsTap(index)}}})}),0)])])]),_vm._v(\" \"),_c('m-row-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShowSpec),expression:\"!isShowSpec\"}],attrs:{\"position\":\"fixed\"},on:{\"tap\":_vm.onShowSpec}},[_vm._v(\"确认购买\")]),_vm._v(\" \"),_c('m-spec-box',{attrs:{\"z-index\":11,\"show\":_vm.isShowSpec,\"goods\":_vm.details},on:{\"close\":_vm.onHideSpec,\"confirm\":_vm.onConfirm}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5d6a6f84\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5d6a6f84\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5d6a6f84\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5d6a6f84\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <keep-alive>\n      <router-view></router-view>\n    </keep-alive>\n  </div>\n</template>\n\n<script>\nimport Index from './pages/index';\n\nexport default {\n  name: 'app',\n  components: {\n    Index\n  }\n};\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n.flex-row {\n  display: flex;\n  flex-direction: row;\n}\n.flex-col {\n  display: flex;\n  flex-direction: column;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('keep-alive',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-554a79a9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-554a79a9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-554a79a9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <canvas ref=\"canvas\"></canvas>\r\n</template>\r\n\r\n<script>\r\nimport * as THREE from 'three';\r\n// import Stats from 'three/examples/js/libs/stats.min.js';\r\nimport OrbitControls from 'three/examples/js/controls/OrbitControls';\r\n// import Detector from 'three/examples/js/Detector';\r\n\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n  computed: {\r\n    ...mapState(['gltfObj'])\r\n  },\r\n  mounted: function() {\r\n    this._initCanvas();\r\n  },\r\n  methods: {\r\n    _initCanvas: function() {\r\n      let canvas = this.$refs.canvas;\r\n      canvas.width = window.innerWidth;\r\n      canvas.height = window.innerHeight;\r\n\r\n      // //调试用，显示一秒渲染的次数\r\n      // var stats = new Stats();\r\n      // document.body.appendChild(stats.dom);\r\n\r\n      /**\r\n       * 创建场景对象Scene\r\n       */\r\n      var scene = new THREE.Scene();\r\n\r\n      let obj = this.gltfObj;\r\n      obj.scene.children[0].position.set(0, 0, 0);\r\n      scene.add(obj.scene);\r\n\r\n      // 环境光\r\n      var ambient = new THREE.AmbientLight(0xffffff);\r\n      ambient.intensity = 1;\r\n      scene.add(ambient);\r\n\r\n      /**\r\n       * 相机设置:透视投影\r\n       */\r\n      var camera = new THREE.PerspectiveCamera(\r\n        45,\r\n        window.innerWidth / window.innerHeight,\r\n        0.1,\r\n        10000\r\n      );\r\n      camera.position.set(0, 0, 50);\r\n      camera.lookAt(scene.position);\r\n\r\n      /**\r\n       * 创建渲染器\r\n       */\r\n      var renderer = new THREE.WebGLRenderer({\r\n        canvas: canvas,\r\n        alpha: true\r\n      });\r\n      renderer.gammaInput = true; // 输入时打开gamma\r\n      renderer.gammaOutput = true; // 输出时打开gamma\r\n      renderer.setSize(window.innerWidth, window.innerHeight);\r\n      renderer.setClearAlpha(0); // 设置背景的透明度  0-1\r\n\r\n      var controls;\r\n      controls = new OrbitControls(camera, renderer.domElement);\r\n      controls.target = scene.position;\r\n      controls.enablePan = false; // 不可平移\r\n      controls.enableZoom = true; // 是否可以缩放\r\n      controls.autoRotate = false; // 将自动旋转关闭\r\n      controls.minDistance = 20; // 设置相机距离原点的最近距离\r\n      controls.maxDistance = 70; // 设置相机距离原点的最远距离\r\n\r\n      // 渲染函数\r\n      function render() {\r\n        // stats.update();\r\n        requestAnimationFrame(render); // 请求再次执行渲染函数render，渲染下一帧\r\n        renderer.render(scene, camera); // 执行渲染操作\r\n      }\r\n      render();\r\n      controls.addEventListener('change', render);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ncanvas {\r\n  background: url('https://zugou.ninewe.com/test1/model/backone.png') center\r\n    no-repeat cover;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/shoedetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{ref:\"canvas\"})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7e71a6ff\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/shoedetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7e71a6ff\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./shoedetail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./shoedetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./shoedetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7e71a6ff\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./shoedetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7e71a6ff\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/shoedetail.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport Index from '../pages/index';\r\nimport Shoedetail from '../pages/shoedetail';\r\n\r\nVue.use(Router);\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      redirect: '/goodsdetail'\r\n    },\r\n    {\r\n      path: '/goodsdetail',\r\n      component: Index\r\n    },\r\n    {\r\n      path: '/shoedetail',\r\n      component: Shoedetail\r\n    }\r\n  ]\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\n\r\nVue.use(Vuex);\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    gltfObj: null\r\n  },\r\n  mutations: {\r\n    setGltfObj(state, obj) {\r\n      state.gltfObj = obj;\r\n    }\r\n  }\r\n});\r\n\r\nexport default store;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\n\nimport store from './store';\n\nVue.prototype.$store = store;\n\nVue.config.productionTip = false;\n\nnew Vue({\n  render: h => h(App),\n  router,\n  store\n}).$mount('#app');\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAA0CAMAAAANBM47AAAAflBMVEUAAAD3OBL3OBP2OBL3ORL3ORP3OBL5OhP/PxT/Wj33OBL2ORL3ORL3ORL4OxT3ORP5Oxb9PBX3ORP2OBL3OBP3ORL2ORP3OBL2ORT4ORL3ORP4OhP3ORL3OhX6OxL6PBX/Pxn/QBn3OBP3OBP3OhT4OhT3OhP4PRf/SRL2OBJLbAuOAAAAKXRSTlMA/PbquXnbThgE8O7kx0lCKRzXzr+zr52Pi4dqYDs3MRQK1oSAZl0hDtThRC8AAAFoSURBVEjHpdbnjsIwEATgceL0hBTg6L3O+7/gCcSRcAkp3u+3ba3GK+2iIkgXOo5UdJw6G9RsnGkRqTDWizRAE39us+Q6e1TsHZcle+7jv8PS4qdoFeAlWEX8ZC0P+JAdWZfkeMoT1h0zVHgWm8Q7ANjFbGJ5eBspNrO2wNZiMzXCS3mkxr7dbLLl+YeDy++Kgt+5BzwsaGzxzFjRmMoBLCmwBAKbAnaAlCIpHIo4+KHID1yKuIgpEsOmiI2QIqG8gjFFxvJvPFHkBI8iHnyK+MBYliFwpsAZQEaBDAASGkvwcKWxKx4Cl4bcAE+eeRO8aBrR+LNTNKB2eJvRwAyle8HBijsqspADhRlKbStCx3JQcoYOlJqZYYClOXubo5FjWH9prXrlt8ZXXsROkYcW/pQdpj7arUO2CNfolGt+pXP0MUrYKBmhr3TCmkmKITZasULpDYbyVxP1uj1Z+TCyv2jL0pc9WvwCk6aQZ60ydbIAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/like.png\n// module id = PiZ4\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAAHfOtk4AAAABGdBTUEAALGPC/xhBQAAAYZJREFUWAntWF1uwjAMjqtdZdfYM9ImIcRFtpNsBxmqJg2NZ67BXerFXRNM4tYuRKiawgNxHPuz8+W/zi3it2sPryGRJgi8tCu5V5Q5flCKkKGRl0CVDAHgySEeo2HjTlHmQuboG+XQYwgXaF+HZ14nOUPDDr9Vo9RARLraCNJuo8N3cPAmIUbdZ/uDsTIIWe9SA6qXM5LQMx3lmXYwM7KmJTlKOlMfJUdJVxQMdn5WSpNOilxEVwdgPo00SBYvdWrQzLeOtgpmySjYVLDAhL1cLmcg7fb2jp0toYGXB/pznXs8qxPJn9eI3UY7g7br1T7xzKu0AqzZL3cAamb5yGoanTPLLW6I0l8stYhaOz97aRGYJrACqvdSAeib+WrkssV3xKZMYiPgt6hrYnPZq4z9G8b+Hsh0vbxlmQ8HNLEC0LQXj+v5VJ1oH7z/w8SQKG3SZXZ+uof7Z3XPmH9abzerD0P8SZO6KifpERorYwIpk6rK2CQ9QuNiGRNyvU5Ft1jrBwpLhF+ydnH5ODRnXQAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/add.png\n// module id = Zarb\n// module chunks = 1","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAA0CAMAAAANBM47AAAAflBMVEUAAADq6urp6ent7e3q6urp6enq6urq6urq6urr6+vq6urq6urq6urq6urq6urs7Ozs7Ozu7u7////q6urt7e3p6enq6urq6urq6urp6enq6urr6+vq6urq6ur19fX////q6urq6urp6enp6ens7Ozr6+vw8PDu7u7p6enp6elV1+9iAAAAKXRSTlMA/PYW8Oq5edtN5NfHhmlCNiwHSRvtzb6zr52LYDsMA9aPgF1RJiEejlW3z4UAAAFnSURBVEjHpdXpkqowEAXgExLCDrK4jLuz3vP+L3jVsgYZECX9/e0k1XWSSuPOodjY2Kj5cRXs0LMLVslcmdhuigOG6JPPVhjoTjEI2fJPGn/tM49dJj/g5pAbdnnZHh3lkX1pg6smZd+xxJ1Pj0PiGc5mMYd4n/hVKw7zZsDMe1SscdUuGeB/f/vkyPEXVcjHkmSkGFa42NDZBmc/is7UD4CMAhlQ+RTwKxQUKRBQJMAbRd4QUiRETJEYPkV8GIoYeQcLiizk15hRJENEkQiaIhpYyDIE3inwDqCkQImzlM5SXHzQ2Uf7rTtJKlxF7o/gxtKJbWezogNV4teaDtZo7ROHBPe482U4kflCR6QmBlDjj2DqQOlZOwbYOvFl/zAocOy/tVUv5bfFQ9GcT80jjGhWfGKlMW5rOMJs8VRj+ZBt8Io65aC0xquKJXuWBabYWcU7yu4wlc6X6rZ7mWs40bn1PDu++z98KpAN308gIQAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/like_grey.png\n// module id = uoTX\n// module chunks = 1"],"sourceRoot":""}